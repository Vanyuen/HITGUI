# å¤§ä¹é€ä¸“å®¶å’Œå€¼é¢„æµ‹åŠŸèƒ½ é‡æ–°è®¾è®¡æ–¹æ¡ˆ

> æ–‡æ¡£ç‰ˆæœ¬ï¼šv1.0
> åˆ›å»ºæ—¥æœŸï¼š2025-12-07
> çŠ¶æ€ï¼šå¾…ç¡®è®¤

---

## ä¸€ã€è®¾è®¡ç›®æ ‡

### 1.1 æ”¹è¿›å¯¹æ¯”

| é¡¹ç›® | ç°æœ‰è®¾è®¡ | æ–°è®¾è®¡ |
|------|----------|--------|
| **é¢„æµ‹å¯¹è±¡** | å‰åŒºå’Œå€¼ + ååŒºå’Œå€¼ | å‰åŒºå’Œå€¼ + ååŒºå’Œå€¼ |
| **éªŒè¯æ–¹å¼** | æŠ€æœ¯åˆ†æ + æ»‘åŠ¨çª—å£å®æ—¶è®¡ç®— | ä»»åŠ¡å¼æ‰¹é‡å¤„ç† + ç»“æœæŒä¹…åŒ– |
| **æ•°æ®å­˜å‚¨** | æ— æŒä¹…åŒ–ï¼Œæ¯æ¬¡é‡æ–°è®¡ç®— | ä»»åŠ¡è¡¨ + ç»“æœè¡¨ï¼Œå¯è¿½æº¯ |
| **UIæ¨¡å¼** | å•æ¬¡é¢„æµ‹ + å³æ—¶éªŒè¯ | ä»»åŠ¡åˆ›å»º â†’ æ‰¹é‡æ‰§è¡Œ â†’ ç»“æœæŸ¥çœ‹ |
| **é¢„æµ‹æ–¹æ³•** | å¤æ‚æŠ€æœ¯æŒ‡æ ‡(MA+RSI+MACD+å¸ƒæ—å¸¦) | 5ç§å¯é€‰æ–¹æ³• + å¯é€‰æŠ€æœ¯å¢å¼º |
| **æ ¸å¿ƒæ”¹å˜** | å›ºå®šå‚æ•° | **ä¸“æ³¨å’Œå€¼èŒƒå›´éªŒè¯ï¼Œå‚æ•°å¯é…ç½®** |

### 1.2 æ ¸å¿ƒè®¾è®¡åŸåˆ™

1. **å‚è€ƒçƒ­æ¸©å†·æ­£é€‰æ‰¹é‡é¢„æµ‹**ï¼šé‡‡ç”¨ä»»åŠ¡å¼è®¾è®¡ï¼Œæ”¯æŒæ‰¹é‡éªŒè¯
2. **ç®€åŒ–æ ¸å¿ƒç®—æ³•**ï¼šä»¥ç»Ÿè®¡æ–¹æ³•ä¸ºä¸»ï¼ŒæŠ€æœ¯åˆ†æä¸ºå¯é€‰å¢å¼º
3. **ç»“æœå¯è¿½æº¯**ï¼šä»»åŠ¡å’Œç»“æœæŒä¹…åŒ–å­˜å‚¨
4. **çµæ´»é…ç½®**ï¼šæ‰€æœ‰å‚æ•°å¯è‡ªå®šä¹‰

---

## äºŒã€æ ¸å¿ƒæ¶æ„

### 2.1 æ•´ä½“æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    å’Œå€¼é¢„æµ‹æ‰¹é‡éªŒè¯ç³»ç»Ÿ                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚ 1. é…ç½®å‚æ•°   â”‚ â†’  â”‚ 2. åˆ›å»ºä»»åŠ¡   â”‚ â†’  â”‚ 3. æ‰¹é‡æ‰§è¡Œ   â”‚           â”‚
â”‚  â”‚              â”‚    â”‚              â”‚    â”‚              â”‚           â”‚
â”‚  â”‚ - æœŸå·èŒƒå›´    â”‚    â”‚ - ä¿å­˜ä»»åŠ¡    â”‚    â”‚ - é€æœŸé¢„æµ‹    â”‚           â”‚
â”‚  â”‚ - é¢„æµ‹æ–¹æ³•    â”‚    â”‚ - ç”ŸæˆID     â”‚    â”‚ - è·å–å¼€å¥–    â”‚           â”‚
â”‚  â”‚ - è®­ç»ƒçª—å£    â”‚    â”‚              â”‚    â”‚ - éªŒè¯å‘½ä¸­    â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                 â†“                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚ 6. å¯¼å‡ºæŠ¥å‘Š   â”‚ â†  â”‚ 5. ç»Ÿè®¡åˆ†æ   â”‚ â†  â”‚ 4. ä¿å­˜ç»“æœ   â”‚           â”‚
â”‚  â”‚              â”‚    â”‚              â”‚    â”‚              â”‚           â”‚
â”‚  â”‚ - Excelå¯¼å‡º  â”‚    â”‚ - å‘½ä¸­ç‡ç»Ÿè®¡  â”‚    â”‚ - æ¯æœŸç»“æœ    â”‚           â”‚
â”‚  â”‚ - è¶‹åŠ¿å›¾è¡¨   â”‚    â”‚ - è‡ªåŠ¨å¯»ä¼˜    â”‚    â”‚ - å‘½ä¸­è¯¦æƒ…    â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 å…³é”®æ•°æ®æµ

```
ç›®æ ‡æœŸå·: 25124
è®­ç»ƒçª—å£: 30æœŸ

æ•°æ®è·å–æµç¨‹:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç›®æ ‡æœŸå· 25124 çš„è®­ç»ƒæ•°æ®:                                       â”‚
â”‚   è·å– 25094, 25095, 25096, ..., 25123 å…±30æœŸå¼€å¥–æ•°æ®            â”‚
â”‚                                                                  â”‚
â”‚ ç›®æ ‡æœŸå· 25123 çš„è®­ç»ƒæ•°æ®:                                       â”‚
â”‚   è·å– 25093, 25094, 25095, ..., 25122 å…±30æœŸå¼€å¥–æ•°æ®            â”‚
â”‚                                                                  â”‚
â”‚ âš ï¸ æ³¨æ„: æ¯ä¸ªç›®æ ‡æœŸå·çš„è®­ç»ƒæ•°æ®é›†éƒ½æ˜¯ä¸åŒçš„!                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ä¸‰ã€äº”ç§é¢„æµ‹æ–¹æ³•è¯¦è§£

### 3.1 æ–¹æ³•æ€»è§ˆ

| åºå· | æ–¹æ³•åç§° | è‹±æ–‡æ ‡è¯† | æ ¸å¿ƒæ€æƒ³ |
|------|----------|----------|----------|
| 1 | ç®€å•ç§»åŠ¨å¹³å‡ | `ma` | å–NæœŸå’Œå€¼çš„ç®—æœ¯å¹³å‡ |
| 2 | åŠ æƒç§»åŠ¨å¹³å‡ | `weighted_ma` | è¿‘æœŸæƒé‡æ›´é«˜ |
| 3 | çº¿æ€§å›å½’ | `regression` | æ‹Ÿåˆè¶‹åŠ¿çº¿é¢„æµ‹ |
| 4 | å›ºå®šèŒƒå›´ | `fixed_range` | ç”¨æˆ·æŒ‡å®šèŒƒå›´ |
| 5 | **å†å²å’Œå€¼é›†** | `history_set` | **ç›´æ¥ä½¿ç”¨è®­ç»ƒçª—å£å†…çš„å’Œå€¼é›†åˆ** |

---

### 3.2 æ–¹æ³•1: ç®€å•ç§»åŠ¨å¹³å‡ (MA)

**åŸç†**: å–è®­ç»ƒçª—å£å†…æœ€è¿‘NæœŸå’Œå€¼çš„ç®—æœ¯å¹³å‡å€¼

**å…¬å¼**:
```
é¢„æµ‹å€¼ = (å’Œå€¼â‚ + å’Œå€¼â‚‚ + ... + å’Œå€¼â‚™) / N
é¢„æµ‹èŒƒå›´ = [é¢„æµ‹å€¼ - æ‰©å±•å€¼, é¢„æµ‹å€¼ + æ‰©å±•å€¼]
```

**ç¤ºä¾‹**: ç›®æ ‡æœŸå·25124ï¼Œè®­ç»ƒçª—å£30æœŸï¼ŒMAå‘¨æœŸ20ï¼ŒèŒƒå›´æ‰©å±•Â±10
```
è®­ç»ƒæ•°æ®: 25094-25123 å…±30æœŸ
å–æœ€å20æœŸå’Œå€¼: 88, 92, 85, 91, 95, 87, 90, 93, 86, 89, 94, 88, 91, 87, 92, 90, 88, 93, 91, 89

MA20 = (88+92+85+...+89) / 20 = 90

é¢„æµ‹èŒƒå›´ = [90-10, 90+10] = [80, 100]

25124æœŸå®é™…å’Œå€¼ = 95 â†’ åœ¨[80,100]å†… â†’ âœ… å‘½ä¸­
```

**å‚æ•°é…ç½®**:
| å‚æ•° | è¯´æ˜ | é»˜è®¤å€¼ | å¯é€‰èŒƒå›´ |
|------|------|--------|----------|
| ma_period | MAå‘¨æœŸ | å‰åŒº20/ååŒº10 | 5-100 |
| range_expand | èŒƒå›´æ‰©å±• | å‰åŒºÂ±10/ååŒºÂ±3 | 1-50 |

**é€‚ç”¨åœºæ™¯**: å’Œå€¼æ³¢åŠ¨ç¨³å®šï¼Œæ— æ˜æ˜¾è¶‹åŠ¿

---

### 3.3 æ–¹æ³•2: åŠ æƒç§»åŠ¨å¹³å‡ (Weighted MA)

**åŸç†**: è¿‘æœŸæ•°æ®æƒé‡æ›´é«˜ï¼Œèƒ½æ›´å¿«å“åº”è¶‹åŠ¿å˜åŒ–

**å…¬å¼**:
```
æƒé‡: ç¬¬1æœŸ=1, ç¬¬2æœŸ=2, ..., ç¬¬NæœŸ=N (è¶Šè¿‘æƒé‡è¶Šå¤§)
é¢„æµ‹å€¼ = Î£(å’Œå€¼áµ¢ Ã— æƒé‡áµ¢) / Î£æƒé‡áµ¢
```

**ç¤ºä¾‹**: åŠ æƒMA5
```
æœ€è¿‘5æœŸå’Œå€¼: 85, 88, 92, 90, 95
æƒé‡åˆ†é…:     1,  2,  3,  4,  5

åŠ æƒå’Œå€¼ = 85Ã—1 + 88Ã—2 + 92Ã—3 + 90Ã—4 + 95Ã—5
        = 85 + 176 + 276 + 360 + 475 = 1372

æƒé‡ä¹‹å’Œ = 1+2+3+4+5 = 15

é¢„æµ‹å€¼ = 1372 / 15 = 91.5 â‰ˆ 92

å¯¹æ¯”ç®€å•MA5 = (85+88+92+90+95)/5 = 90
åŠ æƒMAæ›´æ¥è¿‘æœ€æ–°çš„95ï¼Œååº”æ›´çµæ•
```

**é€‚ç”¨åœºæ™¯**: å’Œå€¼æœ‰ä¸Šå‡æˆ–ä¸‹é™è¶‹åŠ¿æ—¶

---

### 3.4 æ–¹æ³•3: çº¿æ€§å›å½’ (Regression)

**åŸç†**: æ‹Ÿåˆå†å²å’Œå€¼çš„è¶‹åŠ¿çº¿ï¼Œé¢„æµ‹ä¸‹ä¸€æœŸ

**å…¬å¼**:
```
æ‹Ÿåˆç›´çº¿: y = ax + b
- x = æœŸå·åºåˆ— (1, 2, 3, ..., N)
- y = å’Œå€¼åºåˆ—
- a = æ–œç‡ (è¶‹åŠ¿æ–¹å‘å’Œå¼ºåº¦)
- b = æˆªè·

é¢„æµ‹å€¼ = a Ã— (N+1) + b
```

**ç¤ºä¾‹**:
```
æœ€è¿‘5æœŸå’Œå€¼: 80, 85, 88, 92, 95 (æ˜æ˜¾ä¸Šå‡è¶‹åŠ¿)

é€šè¿‡æœ€å°äºŒä¹˜æ³•æ‹Ÿåˆ:
a (æ–œç‡) = 3.5
b (æˆªè·) = 77

æ‹Ÿåˆç›´çº¿: y = 3.5x + 77

é¢„æµ‹ç¬¬6æœŸ: y = 3.5 Ã— 6 + 77 = 98

é¢„æµ‹èŒƒå›´ = [98-10, 98+10] = [88, 108]
```

**é€‚ç”¨åœºæ™¯**: å†å²æ•°æ®å‘ˆç°æ˜æ˜¾çº¿æ€§è¶‹åŠ¿

---

### 3.5 æ–¹æ³•4: å›ºå®šèŒƒå›´ (Fixed Range)

**åŸç†**: ç”¨æˆ·ç›´æ¥æŒ‡å®šé¢„æµ‹èŒƒå›´ï¼Œä¸ä¾èµ–å†å²æ•°æ®è®¡ç®—

**é…ç½®æ–¹å¼**:
```
å‰åŒºå’Œå€¼èŒƒå›´: [75, 105]
ååŒºå’Œå€¼èŒƒå›´: [8, 16]

æ¯ä¸€æœŸéƒ½ä½¿ç”¨ç›¸åŒçš„å›ºå®šèŒƒå›´è¿›è¡ŒéªŒè¯
```

**é€‚ç”¨åœºæ™¯**:
- éªŒè¯ç»éªŒè§„åˆ™ï¼Œå¦‚"å‰åŒºå’Œå€¼80-100å‘½ä¸­ç‡æœ€é«˜"
- ç”¨æˆ·æœ‰ç‰¹å®šçš„å’Œå€¼ç­–ç•¥éœ€è¦éªŒè¯

---

### 3.6 æ–¹æ³•5: å†å²å’Œå€¼é›† (History Set) â­æ–°å¢

**åŸç†**: ç›´æ¥ä½¿ç”¨è®­ç»ƒçª—å£å†…æ‰€æœ‰æœŸå·çš„å’Œå€¼ä½œä¸ºé¢„æµ‹èŒƒå›´

**æ ¸å¿ƒç‰¹ç‚¹**:
- ä¸è®¡ç®—å¹³å‡å€¼ï¼Œç›´æ¥å–å†å²å’Œå€¼çš„æœ€å°å€¼å’Œæœ€å¤§å€¼ä½œä¸ºèŒƒå›´
- æˆ–å–å†å²å’Œå€¼çš„å»é‡é›†åˆï¼Œåˆ¤æ–­å®é™…å’Œå€¼æ˜¯å¦åœ¨é›†åˆå†…
- æ¯ä¸ªç›®æ ‡æœŸå·çš„è®­ç»ƒçª—å£æ•°æ®éƒ½ä¸åŒï¼Œé¢„æµ‹èŒƒå›´ä¹Ÿä¸åŒ

**å…¬å¼**:
```
è®­ç»ƒçª—å£å’Œå€¼é›†åˆ = {å’Œå€¼â‚, å’Œå€¼â‚‚, ..., å’Œå€¼â‚™}

æ¨¡å¼A - èŒƒå›´æ¨¡å¼:
  é¢„æµ‹èŒƒå›´ = [min(é›†åˆ), max(é›†åˆ)]
  å¯é€‰: èŒƒå›´æ‰©å±• Â±E
  é¢„æµ‹èŒƒå›´ = [min(é›†åˆ)-E, max(é›†åˆ)+E]

æ¨¡å¼B - ç²¾ç¡®åŒ¹é…æ¨¡å¼:
  é¢„æµ‹é›†åˆ = unique(é›†åˆ)  // å»é‡
  å‘½ä¸­æ¡ä»¶: å®é™…å’Œå€¼ âˆˆ é¢„æµ‹é›†åˆ
```

**ç¤ºä¾‹**: ç›®æ ‡æœŸå·25124ï¼Œè®­ç»ƒçª—å£30æœŸ

```
æ­¥éª¤1: è·å–25094-25123å…±30æœŸçš„å‰åŒºå’Œå€¼
  å’Œå€¼é›†åˆ = {78, 82, 85, 88, 89, 90, 91, 92, 93, 95, 97, 98, 102, 105, ...}

æ­¥éª¤2 (èŒƒå›´æ¨¡å¼):
  min = 78, max = 105
  é¢„æµ‹èŒƒå›´ = [78, 105]

  å¦‚æœè®¾ç½®èŒƒå›´æ‰©å±•Â±5:
  é¢„æµ‹èŒƒå›´ = [73, 110]

æ­¥éª¤3: éªŒè¯
  25124æœŸå®é™…å’Œå€¼ = 95
  95 åœ¨ [78, 105] èŒƒå›´å†… â†’ âœ… å‘½ä¸­

æ­¥éª¤2 (ç²¾ç¡®åŒ¹é…æ¨¡å¼):
  å»é‡é›†åˆ = {78, 82, 85, 88, 89, 90, 91, 92, 93, 95, 97, 98, 102, 105}

  25124æœŸå®é™…å’Œå€¼ = 95
  95 âˆˆ é›†åˆ â†’ âœ… å‘½ä¸­

  å¦‚æœå®é™…å’Œå€¼ = 96
  96 âˆ‰ é›†åˆ â†’ âŒ æœªå‘½ä¸­
```

**å‚æ•°é…ç½®**:
| å‚æ•° | è¯´æ˜ | é»˜è®¤å€¼ | å¯é€‰èŒƒå›´ |
|------|------|--------|----------|
| match_mode | åŒ¹é…æ¨¡å¼ | range | range/exact |
| range_expand | èŒƒå›´æ‰©å±•(ä»…rangeæ¨¡å¼) | 0 | 0-20 |

**é€‚ç”¨åœºæ™¯**:
- éªŒè¯"å†å²å’Œå€¼æ˜¯å¦æœ‰é‡å¤è§„å¾‹"
- ä¸ä¾èµ–å‡å€¼è®¡ç®—ï¼Œç›´æ¥ä½¿ç”¨å†å²åˆ†å¸ƒ

---

## å››ã€æŠ€æœ¯åˆ†æå¢å¼ºåŠŸèƒ½ (å¯é€‰)

### 4.1 æŠ€æœ¯åˆ†ææ¦‚è¿°

æŠ€æœ¯åˆ†æåŠŸèƒ½ä½œä¸º**å¯é€‰å¢å¼º**ï¼Œå¯ä»¥å åŠ åœ¨ä»»æ„åŸºç¡€é¢„æµ‹æ–¹æ³•ä¸Šï¼Œç”¨äºè°ƒæ•´é¢„æµ‹èŒƒå›´æˆ–æä¾›é¢å¤–çš„ç½®ä¿¡åº¦å‚è€ƒã€‚

### 4.2 RSI (ç›¸å¯¹å¼ºå¼±æŒ‡æ ‡)

**åŸç†**: è¡¡é‡å’Œå€¼çš„è¶…ä¹°/è¶…å–çŠ¶æ€

**å…¬å¼**:
```
RS = å¹³å‡ä¸Šæ¶¨å¹…åº¦ / å¹³å‡ä¸‹è·Œå¹…åº¦
RSI = 100 - (100 / (1 + RS))

RSIèŒƒå›´: 0-100
- RSI > 70: è¶…ä¹°åŒºï¼Œå’Œå€¼å¯èƒ½åé«˜ï¼Œé¢„æœŸå›è½
- RSI < 30: è¶…å–åŒºï¼Œå’Œå€¼å¯èƒ½åä½ï¼Œé¢„æœŸå›å‡
- 30 â‰¤ RSI â‰¤ 70: æ­£å¸¸åŒº
```

**ç¤ºä¾‹**:
```
æœ€è¿‘14æœŸå’Œå€¼å˜åŒ–:
+3, +5, -2, +4, +6, -1, +3, -4, +2, +5, -3, +4, +3, -2

ä¸Šæ¶¨: 3+5+4+6+3+2+5+4+3 = 35, å¹³å‡ = 35/9 = 3.89
ä¸‹è·Œ: 2+1+4+3+2 = 12, å¹³å‡ = 12/5 = 2.4

RS = 3.89 / 2.4 = 1.62
RSI = 100 - (100 / (1 + 1.62)) = 61.8

RSI=61.8 åœ¨æ­£å¸¸åŒºï¼Œä¸åšè°ƒæ•´
```

**è°ƒæ•´ç­–ç•¥**:
| RSIå€¼ | çŠ¶æ€ | é¢„æµ‹è°ƒæ•´ |
|-------|------|----------|
| > 80 | ä¸¥é‡è¶…ä¹° | é¢„æµ‹èŒƒå›´ä¸‹ç§»5-10 |
| 70-80 | è¶…ä¹° | é¢„æµ‹èŒƒå›´ä¸‹ç§»2-5 |
| 30-70 | æ­£å¸¸ | ä¸è°ƒæ•´ |
| 20-30 | è¶…å– | é¢„æµ‹èŒƒå›´ä¸Šç§»2-5 |
| < 20 | ä¸¥é‡è¶…å– | é¢„æµ‹èŒƒå›´ä¸Šç§»5-10 |

---

### 4.3 MACD (æŒ‡æ•°å¹³æ»‘å¼‚åŒç§»åŠ¨å¹³å‡çº¿)

**åŸç†**: åˆ¤æ–­å’Œå€¼è¶‹åŠ¿çš„æ–¹å‘å’ŒåŠ¨é‡

**å…¬å¼**:
```
EMA12 = 12æœŸæŒ‡æ•°ç§»åŠ¨å¹³å‡
EMA26 = 26æœŸæŒ‡æ•°ç§»åŠ¨å¹³å‡
DIF = EMA12 - EMA26  (å¿«çº¿)
DEA = DIFçš„9æœŸEMA    (æ…¢çº¿)
MACDæŸ± = (DIF - DEA) Ã— 2

ä¿¡å·è§£è¯»:
- DIF > DEA (é‡‘å‰): ä¸Šå‡è¶‹åŠ¿ï¼Œé¢„æµ‹å€¼å¯ä¸Šè°ƒ
- DIF < DEA (æ­»å‰): ä¸‹é™è¶‹åŠ¿ï¼Œé¢„æµ‹å€¼å¯ä¸‹è°ƒ
- MACDæŸ±æ”¾å¤§: è¶‹åŠ¿åŠ å¼º
- MACDæŸ±ç¼©å°: è¶‹åŠ¿å‡å¼±
```

**ç¤ºä¾‹**:
```
å½“å‰çŠ¶æ€:
DIF = 2.5
DEA = 1.8
MACDæŸ± = (2.5 - 1.8) Ã— 2 = 1.4

DIF > DEA â†’ é‡‘å‰çŠ¶æ€ â†’ ä¸Šå‡è¶‹åŠ¿
MACDæŸ± > 0 ä¸”æ‰©å¤§ â†’ è¶‹åŠ¿åŠ å¼º

è°ƒæ•´: é¢„æµ‹å€¼ä¸Šè°ƒ 2-3
```

**è°ƒæ•´ç­–ç•¥**:
| MACDçŠ¶æ€ | ä¿¡å· | é¢„æµ‹è°ƒæ•´ |
|----------|------|----------|
| é‡‘å‰ + æŸ±æ”¾å¤§ | å¼ºåŠ¿ä¸Šæ¶¨ | é¢„æµ‹å€¼ä¸Šè°ƒ3-5 |
| é‡‘å‰ + æŸ±ç¼©å° | ä¸Šæ¶¨å‡å¼± | é¢„æµ‹å€¼ä¸Šè°ƒ1-2 |
| æ­»å‰ + æŸ±æ”¾å¤§ | å¼ºåŠ¿ä¸‹è·Œ | é¢„æµ‹å€¼ä¸‹è°ƒ3-5 |
| æ­»å‰ + æŸ±ç¼©å° | ä¸‹è·Œå‡å¼± | é¢„æµ‹å€¼ä¸‹è°ƒ1-2 |

---

### 4.4 å¸ƒæ—å¸¦ (Bollinger Bands)

**åŸç†**: åŸºäºæ ‡å‡†å·®æ„å»ºä»·æ ¼é€šé“ï¼Œåˆ¤æ–­å’Œå€¼ä½ç½®

**å…¬å¼**:
```
ä¸­è½¨ = MA20 (20æœŸç§»åŠ¨å¹³å‡)
æ ‡å‡†å·® = Ïƒ (20æœŸæ ‡å‡†å·®)
ä¸Šè½¨ = ä¸­è½¨ + 2Ïƒ
ä¸‹è½¨ = ä¸­è½¨ - 2Ïƒ

å¸¦å®½ = (ä¸Šè½¨ - ä¸‹è½¨) / ä¸­è½¨ Ã— 100%

ä½ç½®åˆ¤æ–­:
- å’Œå€¼è§¦åŠä¸Šè½¨: å¯èƒ½å›è½
- å’Œå€¼è§¦åŠä¸‹è½¨: å¯èƒ½åå¼¹
- å¸¦å®½æ”¶çª„: å³å°†æœ‰å¤§æ³¢åŠ¨
- å¸¦å®½æ‰©å¤§: æ³¢åŠ¨å‰§çƒˆæœŸ
```

**ç¤ºä¾‹**:
```
æœ€è¿‘20æœŸå’Œå€¼:
å‡å€¼ MA20 = 90
æ ‡å‡†å·® Ïƒ = 8

ä¸Šè½¨ = 90 + 2Ã—8 = 106
ä¸‹è½¨ = 90 - 2Ã—8 = 74
å¸¦å®½ = (106-74)/90 Ã— 100% = 35.6%

æœ€æ–°å’Œå€¼ = 104 (æ¥è¿‘ä¸Šè½¨)
â†’ é¢„æµ‹ä¸‹ä¸€æœŸå¯èƒ½å›è½
â†’ é¢„æµ‹èŒƒå›´å¯é€‚å½“ä¸‹ç§»
```

**è°ƒæ•´ç­–ç•¥**:
| å¸ƒæ—å¸¦ä½ç½® | çŠ¶æ€ | é¢„æµ‹è°ƒæ•´ |
|------------|------|----------|
| > ä¸Šè½¨ | è¶…å‡ºä¸Šè½¨ | é¢„æµ‹èŒƒå›´ä¸‹ç§»5-8 |
| ä¸Šè½¨é™„è¿‘ | è§¦åŠä¸Šè½¨ | é¢„æµ‹èŒƒå›´ä¸‹ç§»2-4 |
| ä¸­è½¨é™„è¿‘ | æ­£å¸¸ | ä¸è°ƒæ•´ |
| ä¸‹è½¨é™„è¿‘ | è§¦åŠä¸‹è½¨ | é¢„æµ‹èŒƒå›´ä¸Šç§»2-4 |
| < ä¸‹è½¨ | è¶…å‡ºä¸‹è½¨ | é¢„æµ‹èŒƒå›´ä¸Šç§»5-8 |

---

### 4.5 æŠ€æœ¯åˆ†æé…ç½®

```javascript
technical_analysis: {
    enabled: Boolean,           // æ˜¯å¦å¯ç”¨æŠ€æœ¯åˆ†æå¢å¼º

    rsi: {
        enabled: Boolean,       // æ˜¯å¦å¯ç”¨RSI
        period: Number,         // RSIå‘¨æœŸï¼Œé»˜è®¤14
        overbought: Number,     // è¶…ä¹°é˜ˆå€¼ï¼Œé»˜è®¤70
        oversold: Number        // è¶…å–é˜ˆå€¼ï¼Œé»˜è®¤30
    },

    macd: {
        enabled: Boolean,       // æ˜¯å¦å¯ç”¨MACD
        fast_period: Number,    // å¿«çº¿å‘¨æœŸï¼Œé»˜è®¤12
        slow_period: Number,    // æ…¢çº¿å‘¨æœŸï¼Œé»˜è®¤26
        signal_period: Number   // ä¿¡å·çº¿å‘¨æœŸï¼Œé»˜è®¤9
    },

    bollinger: {
        enabled: Boolean,       // æ˜¯å¦å¯ç”¨å¸ƒæ—å¸¦
        period: Number,         // MAå‘¨æœŸï¼Œé»˜è®¤20
        std_dev: Number         // æ ‡å‡†å·®å€æ•°ï¼Œé»˜è®¤2
    }
}
```

---

## äº”ã€è‡ªåŠ¨å¯»ä¼˜åŠŸèƒ½

### 5.1 åŠŸèƒ½æ¦‚è¿°

è‡ªåŠ¨å¯»ä¼˜æ˜¯æŒ‡ç³»ç»Ÿè‡ªåŠ¨å°è¯•å¤šç§å‚æ•°ç»„åˆï¼Œæ‰¾å‡ºå†å²å‘½ä¸­ç‡æœ€é«˜çš„é…ç½®ã€‚

### 5.2 å¯»ä¼˜ç»´åº¦

| ç»´åº¦ | å¯é€‰å€¼ | ç»„åˆæ•° |
|------|--------|--------|
| é¢„æµ‹æ–¹æ³• | ma, weighted_ma, regression, history_set | 4 |
| MAå‘¨æœŸ | 5, 10, 15, 20, 30, 50 | 6 |
| èŒƒå›´æ‰©å±• | Â±5, Â±8, Â±10, Â±12, Â±15, Â±20 | 6 |
| è®­ç»ƒçª—å£ | 20, 30, 50, 100 | 4 |

**æ€»ç»„åˆæ•°**: 4 Ã— 6 Ã— 6 Ã— 4 = 576ç§

### 5.3 å¯»ä¼˜æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        è‡ªåŠ¨å¯»ä¼˜æµç¨‹                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  1. ç”¨æˆ·é€‰æ‹©å¯»ä¼˜èŒƒå›´                                             â”‚
â”‚     â”œâ”€ éªŒè¯æœŸå·èŒƒå›´: æœ€è¿‘100æœŸ                                   â”‚
â”‚     â”œâ”€ å¯»ä¼˜ç›®æ ‡: å‰åŒºå‘½ä¸­ç‡ / ååŒºå‘½ä¸­ç‡ / åŒåŒºå‘½ä¸­ç‡            â”‚
â”‚     â””â”€ å‚æ•°èŒƒå›´: ä½¿ç”¨é»˜è®¤æˆ–è‡ªå®šä¹‰                                â”‚
â”‚                                                                  â”‚
â”‚  2. ç³»ç»Ÿæ‰¹é‡æ‰§è¡Œ                                                 â”‚
â”‚     â”œâ”€ éå†æ‰€æœ‰å‚æ•°ç»„åˆ                                          â”‚
â”‚     â”œâ”€ å¯¹æ¯ç§ç»„åˆè®¡ç®—å‘½ä¸­ç‡                                      â”‚
â”‚     â””â”€ è®°å½•ç»“æœ                                                  â”‚
â”‚                                                                  â”‚
â”‚  3. ç»“æœæ’åº                                                     â”‚
â”‚     â”œâ”€ æŒ‰ç›®æ ‡å‘½ä¸­ç‡é™åºæ’åˆ—                                      â”‚
â”‚     â”œâ”€ å±•ç¤ºTop 10æœ€ä¼˜é…ç½®                                        â”‚
â”‚     â””â”€ æ”¯æŒå¯¼å‡ºå®Œæ•´ç»“æœ                                          â”‚
â”‚                                                                  â”‚
â”‚  4. ä¸€é”®åº”ç”¨                                                     â”‚
â”‚     â””â”€ ç”¨æˆ·å¯é€‰æ‹©æœ€ä¼˜é…ç½®ç›´æ¥åˆ›å»ºé¢„æµ‹ä»»åŠ¡                        â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.4 å¯»ä¼˜ç»“æœç¤ºä¾‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ† è‡ªåŠ¨å¯»ä¼˜ç»“æœ (ç›®æ ‡: å‰åŒºå‘½ä¸­ç‡)                               â”‚
â”‚ éªŒè¯èŒƒå›´: æœ€è¿‘100æœŸ (25025-25124)                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ’å â”‚ æ–¹æ³•       â”‚ MAå‘¨æœŸ â”‚ èŒƒå›´æ‰©å±• â”‚ è®­ç»ƒçª—å£ â”‚ å‰åŒºå‘½ä¸­ç‡ â”‚
â”‚â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚  1   â”‚ history_setâ”‚   -    â”‚   Â±5     â”‚   30     â”‚   52.3%    â”‚
â”‚  2   â”‚ weighted_maâ”‚  15    â”‚   Â±12    â”‚   30     â”‚   51.8%    â”‚
â”‚  3   â”‚ ma         â”‚  20    â”‚   Â±10    â”‚   30     â”‚   50.2%    â”‚
â”‚  4   â”‚ ma         â”‚  15    â”‚   Â±12    â”‚   20     â”‚   49.5%    â”‚
â”‚  5   â”‚ regression â”‚  20    â”‚   Â±15    â”‚   50     â”‚   48.7%    â”‚
â”‚ ...  â”‚ ...        â”‚  ...   â”‚   ...    â”‚   ...    â”‚   ...      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[åº”ç”¨æ’å1é…ç½®] [åº”ç”¨æ’å2é…ç½®] [å¯¼å‡ºå®Œæ•´ç»“æœ]
```

### 5.5 å¯»ä¼˜APIè®¾è®¡

```javascript
// POST /api/dlt/sum-prediction-tasks/auto-optimize
{
    "period_range": {
        "type": "recent",
        "recent_count": 100
    },
    "optimize_target": "front_hit_rate",  // front_hit_rate / back_hit_rate / both_hit_rate
    "parameter_ranges": {
        "methods": ["ma", "weighted_ma", "regression", "history_set"],
        "ma_periods": [5, 10, 15, 20, 30],
        "range_expands": [5, 8, 10, 12, 15],
        "training_windows": [20, 30, 50]
    },
    "top_n": 10  // è¿”å›Top Nç»“æœ
}
```

---

## å…­ã€æ•°æ®æ¨¡å‹è®¾è®¡

### 6.1 å’Œå€¼é¢„æµ‹ä»»åŠ¡è¡¨ (SumPredictionTask)

```javascript
const sumPredictionTaskSchema = new mongoose.Schema({
    // åŸºç¡€ä¿¡æ¯
    task_id: { type: String, required: true, unique: true }, // sum-pred-YYYYMMDD-åºå·
    task_name: { type: String, required: true },
    task_type: { type: String, default: 'sum-prediction-batch' },

    // çŠ¶æ€ç®¡ç†
    status: {
        type: String,
        enum: ['pending', 'processing', 'completed', 'failed'],
        default: 'pending'
    },

    // æœŸå·èŒƒå›´é…ç½®
    period_range: {
        type: { type: String, enum: ['all', 'recent', 'custom'] },
        recent_count: Number,
        start_issue: String,
        end_issue: String,
        total_periods: Number,
        processed_periods: { type: Number, default: 0 }
    },

    // è®­ç»ƒçª—å£ (å¯è‡ªå®šä¹‰)
    training_window: { type: Number, default: 30, min: 10, max: 200 },

    // å‰åŒºå’Œå€¼é¢„æµ‹ç­–ç•¥
    front_strategy: {
        method: {
            type: String,
            enum: ['ma', 'weighted_ma', 'regression', 'fixed_range', 'history_set'],
            default: 'ma'
        },
        // MAç›¸å…³å‚æ•°
        ma_period: { type: Number, default: 20 },
        range_expand: { type: Number, default: 10 },
        // å›ºå®šèŒƒå›´å‚æ•°
        fixed_range: {
            min: Number,
            max: Number
        },
        // å†å²å’Œå€¼é›†å‚æ•°
        history_set: {
            match_mode: { type: String, enum: ['range', 'exact'], default: 'range' },
            range_expand: { type: Number, default: 0 }
        }
    },

    // ååŒºå’Œå€¼é¢„æµ‹ç­–ç•¥
    back_strategy: {
        method: {
            type: String,
            enum: ['ma', 'weighted_ma', 'regression', 'fixed_range', 'history_set'],
            default: 'ma'
        },
        ma_period: { type: Number, default: 10 },
        range_expand: { type: Number, default: 3 },
        fixed_range: {
            min: Number,
            max: Number
        },
        history_set: {
            match_mode: { type: String, enum: ['range', 'exact'], default: 'range' },
            range_expand: { type: Number, default: 0 }
        }
    },

    // æŠ€æœ¯åˆ†æå¢å¼º (å¯é€‰)
    technical_analysis: {
        enabled: { type: Boolean, default: false },
        rsi: {
            enabled: { type: Boolean, default: false },
            period: { type: Number, default: 14 },
            overbought: { type: Number, default: 70 },
            oversold: { type: Number, default: 30 }
        },
        macd: {
            enabled: { type: Boolean, default: false },
            fast_period: { type: Number, default: 12 },
            slow_period: { type: Number, default: 26 },
            signal_period: { type: Number, default: 9 }
        },
        bollinger: {
            enabled: { type: Boolean, default: false },
            period: { type: Number, default: 20 },
            std_dev: { type: Number, default: 2 }
        }
    },

    // æ‰§è¡Œç»Ÿè®¡
    execution_stats: {
        start_time: Date,
        end_time: Date,
        duration_ms: Number
    },

    // æ±‡æ€»ç»Ÿè®¡
    summary_stats: {
        front_hit_count: Number,
        back_hit_count: Number,
        both_hit_count: Number,
        front_hit_rate: Number,      // ç™¾åˆ†æ¯”
        back_hit_rate: Number,
        both_hit_rate: Number,
        avg_front_diff: Number,      // å¹³å‡åå·®
        avg_back_diff: Number,
        // æŒ‰èŒƒå›´ä½ç½®ç»Ÿè®¡
        front_above_count: Number,   // å®é™…å€¼é«˜äºé¢„æµ‹èŒƒå›´
        front_below_count: Number,   // å®é™…å€¼ä½äºé¢„æµ‹èŒƒå›´
        back_above_count: Number,
        back_below_count: Number
    },

    created_at: { type: Date, default: Date.now },
    updated_at: { type: Date, default: Date.now }
});

// ç´¢å¼•
sumPredictionTaskSchema.index({ task_id: 1 });
sumPredictionTaskSchema.index({ status: 1 });
sumPredictionTaskSchema.index({ created_at: -1 });
```

### 6.2 å’Œå€¼é¢„æµ‹ç»“æœè¡¨ (SumPredictionResult)

```javascript
const sumPredictionResultSchema = new mongoose.Schema({
    result_id: { type: String, required: true, unique: true },
    task_id: { type: String, required: true },
    period: { type: Number, required: true },

    // è®­ç»ƒæ•°æ®ä¿¡æ¯
    training_info: {
        start_issue: Number,
        end_issue: Number,
        count: Number,
        // å†å²å’Œå€¼é›† (ä»…history_setæ–¹æ³•æ—¶å¡«å……)
        front_sum_set: [Number],
        back_sum_set: [Number]
    },

    // é¢„æµ‹ç»“æœ
    prediction: {
        front_sum: {
            recommended: Number,     // æ¨èå€¼ (MA/å›å½’è®¡ç®—å€¼)
            range_min: Number,
            range_max: Number,
            ma_value: Number,        // MAå€¼
            confidence: Number,      // ç½®ä¿¡åº¦
            // æŠ€æœ¯åˆ†æè°ƒæ•´ (å¦‚æœå¯ç”¨)
            tech_adjustment: Number,
            tech_signals: {
                rsi: { value: Number, signal: String },
                macd: { dif: Number, dea: Number, signal: String },
                bollinger: { position: String, band_width: Number }
            }
        },
        back_sum: {
            recommended: Number,
            range_min: Number,
            range_max: Number,
            ma_value: Number,
            confidence: Number,
            tech_adjustment: Number,
            tech_signals: Object
        }
    },

    // å®é™…å¼€å¥–æ•°æ®
    actual: {
        red_balls: [Number],
        blue_balls: [Number],
        front_sum: Number,
        back_sum: Number
    },

    // éªŒè¯ç»“æœ
    validation: {
        front_hit: Boolean,
        back_hit: Boolean,
        both_hit: Boolean,
        front_diff: Number,          // |å®é™… - æ¨è|
        back_diff: Number,
        front_range_position: String, // 'in_range' | 'above' | 'below'
        back_range_position: String
    },

    created_at: { type: Date, default: Date.now }
});

// ç´¢å¼•
sumPredictionResultSchema.index({ task_id: 1, period: 1 }, { unique: true });
sumPredictionResultSchema.index({ task_id: 1 });
sumPredictionResultSchema.index({ period: 1 });
```

---

## ä¸ƒã€APIè®¾è®¡

### 7.1 APIç«¯ç‚¹æ¸…å•

| æ–¹æ³• | ç«¯ç‚¹ | åŠŸèƒ½ |
|------|------|------|
| POST | `/api/dlt/sum-prediction-tasks/create` | åˆ›å»ºå’Œå€¼é¢„æµ‹ä»»åŠ¡ |
| GET | `/api/dlt/sum-prediction-tasks/list` | æŸ¥è¯¢ä»»åŠ¡åˆ—è¡¨ |
| GET | `/api/dlt/sum-prediction-tasks/:task_id` | æŸ¥è¯¢ä»»åŠ¡è¯¦æƒ… |
| GET | `/api/dlt/sum-prediction-tasks/:task_id/results` | æŸ¥è¯¢ç»“æœåˆ—è¡¨ (åˆ†é¡µ) |
| GET | `/api/dlt/sum-prediction-tasks/:task_id/statistics` | æŸ¥è¯¢ç»Ÿè®¡åˆ†æ |
| GET | `/api/dlt/sum-prediction-tasks/:task_id/export` | å¯¼å‡ºExcel |
| DELETE | `/api/dlt/sum-prediction-tasks/:task_id` | åˆ é™¤ä»»åŠ¡ |
| POST | `/api/dlt/sum-prediction-tasks/batch-delete` | æ‰¹é‡åˆ é™¤ |
| POST | `/api/dlt/sum-prediction-tasks/auto-optimize` | è‡ªåŠ¨å¯»ä¼˜ |

### 7.2 åˆ›å»ºä»»åŠ¡API

**è¯·æ±‚**:
```javascript
POST /api/dlt/sum-prediction-tasks/create

{
    "task_name": "MA20éªŒè¯_æœ€è¿‘100æœŸ",
    "period_range": {
        "type": "recent",
        "recent_count": 100
    },
    "training_window": 30,
    "front_strategy": {
        "method": "ma",
        "ma_period": 20,
        "range_expand": 10
    },
    "back_strategy": {
        "method": "ma",
        "ma_period": 10,
        "range_expand": 3
    },
    "technical_analysis": {
        "enabled": false
    }
}
```

**å“åº”**:
```javascript
{
    "success": true,
    "data": {
        "task_id": "sum-pred-20251207-001",
        "task_name": "MA20éªŒè¯_æœ€è¿‘100æœŸ",
        "status": "processing",
        "period_range": {
            "total_periods": 100,
            "start_issue": "25025",
            "end_issue": "25124"
        }
    }
}
```

### 7.3 Socketäº‹ä»¶

| äº‹ä»¶å | æ–¹å‘ | æ•°æ® |
|--------|------|------|
| `sum-task-started` | Serverâ†’Client | `{task_id, total_periods}` |
| `sum-task-progress` | Serverâ†’Client | `{task_id, current, total, percent, current_period}` |
| `sum-task-completed` | Serverâ†’Client | `{task_id, summary_stats}` |
| `sum-task-error` | Serverâ†’Client | `{task_id, error}` |

---

## å…«ã€UIè®¾è®¡

### 8.1 ä¸»é¢æ¿å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ¯ å¤§ä¹é€å’Œå€¼é¢„æµ‹æ‰¹é‡éªŒè¯ç³»ç»Ÿ                                                â”‚
â”‚ é€šè¿‡å†å²æ•°æ®æ‰¹é‡éªŒè¯å’Œå€¼é¢„æµ‹ç­–ç•¥çš„å‡†ç¡®ç‡                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ“… éªŒè¯æœŸå·èŒƒå›´                                                          â”‚ â”‚
â”‚ â”‚ â—‹ å…¨éƒ¨å†å²æœŸå·        â— æœ€è¿‘ [100] æœŸ        â—‹ è‡ªå®šä¹‰ [    ]-[    ]     â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ âš™ï¸ è®­ç»ƒçª—å£                                                              â”‚ â”‚
â”‚ â”‚ [20] [â—30] [50] [100]  è‡ªå®šä¹‰: [   ]æœŸ                                   â”‚ â”‚
â”‚ â”‚ ğŸ’¡ æ¯æœŸé¢„æµ‹åŸºäºç›®æ ‡æœŸå·å‰NæœŸå†å²æ•°æ®è®¡ç®—                                   â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ“Š å‰åŒºå’Œå€¼é¢„æµ‹ç­–ç•¥                                                       â”‚ â”‚
â”‚ â”‚                                                                          â”‚ â”‚
â”‚ â”‚ é¢„æµ‹æ–¹æ³•: â—MAå‡çº¿ â—‹åŠ æƒMA â—‹çº¿æ€§å›å½’ â—‹å›ºå®šèŒƒå›´ â—‹å†å²å’Œå€¼é›†                 â”‚ â”‚
â”‚ â”‚                                                                          â”‚ â”‚
â”‚ â”‚ â”Œâ”€ MAå‡çº¿å‚æ•° â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚ â”‚ â”‚ MAå‘¨æœŸ:  [5] [10] [â—20] [30] [50]  è‡ªå®šä¹‰: [  ]æœŸ                   â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ èŒƒå›´æ‰©å±•: Â±[5] Â±[8] Â±[â—10] Â±[12] Â±[15] Â±[20]  è‡ªå®šä¹‰: Â±[  ]         â”‚ â”‚ â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ“Š ååŒºå’Œå€¼é¢„æµ‹ç­–ç•¥                                                       â”‚ â”‚
â”‚ â”‚                                                                          â”‚ â”‚
â”‚ â”‚ é¢„æµ‹æ–¹æ³•: â—MAå‡çº¿ â—‹åŠ æƒMA â—‹çº¿æ€§å›å½’ â—‹å›ºå®šèŒƒå›´ â—‹å†å²å’Œå€¼é›†                 â”‚ â”‚
â”‚ â”‚                                                                          â”‚ â”‚
â”‚ â”‚ â”Œâ”€ MAå‡çº¿å‚æ•° â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚ â”‚ â”‚ MAå‘¨æœŸ:  [5] [â—10] [20] [30]  è‡ªå®šä¹‰: [  ]æœŸ                        â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ èŒƒå›´æ‰©å±•: Â±[2] Â±[â—3] Â±[5]  è‡ªå®šä¹‰: Â±[  ]                            â”‚ â”‚ â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ”¬ æŠ€æœ¯åˆ†æå¢å¼º (å¯é€‰)                                          [å±•å¼€â–¼] â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                              â”‚
â”‚         [ğŸš€ åˆ›å»ºéªŒè¯ä»»åŠ¡]    [ğŸ” è‡ªåŠ¨å¯»ä¼˜]    [ğŸ“‹ æŸ¥çœ‹å†å²ä»»åŠ¡]              â”‚
â”‚                                                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“‹ ä»»åŠ¡åˆ—è¡¨                                                    [ğŸ”„ åˆ·æ–°]    â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ ä»»åŠ¡åç§°       â”‚ æœŸå·èŒƒå›´     â”‚ ç­–ç•¥      â”‚ çŠ¶æ€   â”‚ å‘½ä¸­ç‡    â”‚ æ“ä½œ  â”‚   â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚ â”‚ MA20éªŒè¯_100æœŸ â”‚ 25025-25124 â”‚ MA20Â±10  â”‚ âœ…å®Œæˆ â”‚ å‰45%å52%â”‚ğŸ“ŠğŸ“¥ğŸ—‘â”‚   â”‚
â”‚ â”‚ å†å²é›†éªŒè¯     â”‚ 25025-25124 â”‚ history  â”‚ â³å¤„ç† â”‚ -        â”‚ -    â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 8.2 å†å²å’Œå€¼é›†æ–¹æ³•UI

å½“é€‰æ‹©"å†å²å’Œå€¼é›†"æ–¹æ³•æ—¶:

```
â”Œâ”€ å†å²å’Œå€¼é›†å‚æ•° â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                        â”‚
â”‚ åŒ¹é…æ¨¡å¼:  â—èŒƒå›´æ¨¡å¼ (å–å†å²å’Œå€¼çš„min-max)                              â”‚
â”‚           â—‹ç²¾ç¡®åŒ¹é…æ¨¡å¼ (å®é™…å€¼éœ€åœ¨å†å²é›†åˆå†…)                          â”‚
â”‚                                                                        â”‚
â”‚ èŒƒå›´æ‰©å±• (ä»…èŒƒå›´æ¨¡å¼): Â±[0] Â±[3] Â±[5]  è‡ªå®šä¹‰: Â±[  ]                   â”‚
â”‚                                                                        â”‚
â”‚ ğŸ’¡ è¯´æ˜:                                                               â”‚
â”‚    èŒƒå›´æ¨¡å¼: é¢„æµ‹èŒƒå›´ = [å†å²æœ€å°å’Œå€¼-æ‰©å±•, å†å²æœ€å¤§å’Œå€¼+æ‰©å±•]          â”‚
â”‚    ç²¾ç¡®åŒ¹é…: å®é™…å’Œå€¼å¿…é¡»å‡ºç°åœ¨å†å²å’Œå€¼é›†åˆä¸­æ‰ç®—å‘½ä¸­                   â”‚
â”‚                                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 8.3 æŠ€æœ¯åˆ†æå±•å¼€é¢æ¿

```
â”Œâ”€ ğŸ”¬ æŠ€æœ¯åˆ†æå¢å¼º â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                        â”‚
â”‚ â–¡ å¯ç”¨æŠ€æœ¯åˆ†æå¢å¼º                                                      â”‚
â”‚                                                                        â”‚
â”‚ â”Œâ”€ RSI (ç›¸å¯¹å¼ºå¼±æŒ‡æ ‡) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ â–¡ å¯ç”¨RSIè°ƒæ•´                                                      â”‚  â”‚
â”‚ â”‚ RSIå‘¨æœŸ: [14]æœŸ   è¶…ä¹°é˜ˆå€¼: [70]   è¶…å–é˜ˆå€¼: [30]                  â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                        â”‚
â”‚ â”Œâ”€ MACD (å¼‚åŒç§»åŠ¨å¹³å‡çº¿) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ â–¡ å¯ç”¨MACDè°ƒæ•´                                                     â”‚  â”‚
â”‚ â”‚ å¿«çº¿å‘¨æœŸ: [12]   æ…¢çº¿å‘¨æœŸ: [26]   ä¿¡å·çº¿å‘¨æœŸ: [9]                  â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                        â”‚
â”‚ â”Œâ”€ å¸ƒæ—å¸¦ (Bollinger Bands) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ â–¡ å¯ç”¨å¸ƒæ—å¸¦è°ƒæ•´                                                   â”‚  â”‚
â”‚ â”‚ MAå‘¨æœŸ: [20]æœŸ   æ ‡å‡†å·®å€æ•°: [2]                                   â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 8.4 ä»»åŠ¡ç»“æœè¯¦æƒ…é¡µ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“Š ä»»åŠ¡ç»“æœ: MA20éªŒè¯_100æœŸ                                    [â† è¿”å›åˆ—è¡¨]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚                         ğŸ“ˆ å‘½ä¸­ç‡ç»Ÿè®¡æ€»è§ˆ                               â”‚  â”‚
â”‚ â”‚                                                                         â”‚  â”‚
â”‚ â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚  â”‚
â”‚ â”‚   â”‚ å‰åŒºå‘½ä¸­ç‡   â”‚    â”‚ ååŒºå‘½ä¸­ç‡   â”‚    â”‚ åŒåŒºå‘½ä¸­ç‡   â”‚                â”‚  â”‚
â”‚ â”‚   â”‚   45.0%     â”‚    â”‚   52.0%     â”‚    â”‚   28.0%     â”‚                â”‚  â”‚
â”‚ â”‚   â”‚  (45/100)   â”‚    â”‚  (52/100)   â”‚    â”‚  (28/100)   â”‚                â”‚  â”‚
â”‚ â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚  â”‚
â”‚ â”‚                                                                         â”‚  â”‚
â”‚ â”‚   å‰åŒºå¹³å‡åå·®: 8.3   ååŒºå¹³å‡åå·®: 1.5                                  â”‚  â”‚
â”‚ â”‚   å‰åŒºåé«˜: 30æ¬¡  åä½: 25æ¬¡   ååŒºåé«˜: 22æ¬¡  åä½: 26æ¬¡                â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ ğŸ“‹ è¯¦ç»†éªŒè¯ç»“æœ                                     [ğŸ“¥å¯¼å‡ºExcel]       â”‚  â”‚
â”‚ â”‚                                                                         â”‚  â”‚
â”‚ â”‚ æœŸå·  â”‚è®­ç»ƒèŒƒå›´     â”‚å‰åŒºé¢„æµ‹   â”‚å‰åŒºå®é™…â”‚å‰åŒºâ”‚ååŒºé¢„æµ‹ â”‚ååŒºå®é™…â”‚ååŒº  â”‚  â”‚
â”‚ â”‚â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€  â”‚  â”‚
â”‚ â”‚ 25124 â”‚25094-25123 â”‚83-103(93)â”‚  95   â”‚ âœ… â”‚ 8-14(11)â”‚  12   â”‚ âœ…   â”‚  â”‚
â”‚ â”‚ 25123 â”‚25093-25122 â”‚85-105(95)â”‚  112  â”‚ âŒâ†‘â”‚ 9-15(12)â”‚  11   â”‚ âœ…   â”‚  â”‚
â”‚ â”‚ 25122 â”‚25092-25121 â”‚82-102(92)â”‚  91   â”‚ âœ… â”‚ 8-14(11)â”‚  8    â”‚ âœ…   â”‚  â”‚
â”‚ â”‚ ...                                                                     â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å›¾ä¾‹: âœ…å‘½ä¸­  âŒâ†‘å®é™…å€¼é«˜äºèŒƒå›´  âŒâ†“å®é™…å€¼ä½äºèŒƒå›´
```

---

## ä¹ã€æ ¸å¿ƒç®—æ³•å®ç°

### 9.1 é¢„æµ‹è®¡ç®—æ ¸å¿ƒå‡½æ•°

```javascript
/**
 * è®¡ç®—å•æœŸå’Œå€¼é¢„æµ‹
 * @param {Array} trainingData - è®­ç»ƒæ•°æ® (ç›®æ ‡æœŸå·å‰NæœŸ)
 * @param {Object} frontStrategy - å‰åŒºé¢„æµ‹ç­–ç•¥
 * @param {Object} backStrategy - ååŒºé¢„æµ‹ç­–ç•¥
 * @param {Object} techConfig - æŠ€æœ¯åˆ†æé…ç½®
 * @returns {Object} é¢„æµ‹ç»“æœ
 */
function calculateSumPrediction(trainingData, frontStrategy, backStrategy, techConfig) {
    // 1. æå–å’Œå€¼åºåˆ—
    const frontSums = trainingData.map(d => d.Red1 + d.Red2 + d.Red3 + d.Red4 + d.Red5);
    const backSums = trainingData.map(d => d.Blue1 + d.Blue2);

    // 2. è®¡ç®—å‰åŒºé¢„æµ‹
    let frontPrediction = predictByMethod(frontSums, frontStrategy);

    // 3. è®¡ç®—ååŒºé¢„æµ‹
    let backPrediction = predictByMethod(backSums, backStrategy);

    // 4. åº”ç”¨æŠ€æœ¯åˆ†æè°ƒæ•´ (å¦‚æœå¯ç”¨)
    if (techConfig && techConfig.enabled) {
        frontPrediction = applyTechnicalAdjustment(frontPrediction, frontSums, techConfig);
        backPrediction = applyTechnicalAdjustment(backPrediction, backSums, techConfig);
    }

    return { front: frontPrediction, back: backPrediction };
}

/**
 * æ ¹æ®æ–¹æ³•è®¡ç®—é¢„æµ‹å€¼
 */
function predictByMethod(sums, strategy) {
    const { method, ma_period, range_expand, fixed_range, history_set } = strategy;

    let result = {
        recommended: null,
        range_min: null,
        range_max: null,
        ma_value: null,
        confidence: 70,
        sum_set: null
    };

    switch (method) {
        case 'ma':
            // ç®€å•ç§»åŠ¨å¹³å‡
            const recentSums = sums.slice(-ma_period);
            const avg = recentSums.reduce((a, b) => a + b, 0) / recentSums.length;
            result.recommended = Math.round(avg);
            result.ma_value = avg;
            result.range_min = result.recommended - range_expand;
            result.range_max = result.recommended + range_expand;
            result.confidence = 70;
            break;

        case 'weighted_ma':
            // åŠ æƒç§»åŠ¨å¹³å‡
            const weights = Array.from({length: ma_period}, (_, i) => i + 1);
            const recentForWMA = sums.slice(-ma_period);
            const weightedSum = recentForWMA.reduce((acc, val, i) => acc + val * weights[i], 0);
            const weightTotal = weights.reduce((a, b) => a + b, 0);
            result.recommended = Math.round(weightedSum / weightTotal);
            result.ma_value = weightedSum / weightTotal;
            result.range_min = result.recommended - range_expand;
            result.range_max = result.recommended + range_expand;
            result.confidence = 72;
            break;

        case 'regression':
            // çº¿æ€§å›å½’
            const recentForReg = sums.slice(-ma_period);
            const { slope, intercept } = linearRegression(recentForReg);
            const predicted = slope * (ma_period + 1) + intercept;
            result.recommended = Math.round(predicted);
            result.ma_value = predicted;
            result.range_min = result.recommended - range_expand;
            result.range_max = result.recommended + range_expand;
            result.confidence = 68;
            break;

        case 'fixed_range':
            // å›ºå®šèŒƒå›´
            result.range_min = fixed_range.min;
            result.range_max = fixed_range.max;
            result.recommended = Math.round((fixed_range.min + fixed_range.max) / 2);
            result.confidence = 65;
            break;

        case 'history_set':
            // å†å²å’Œå€¼é›†
            result.sum_set = [...new Set(sums)].sort((a, b) => a - b);
            const minSum = Math.min(...sums);
            const maxSum = Math.max(...sums);

            if (history_set.match_mode === 'range') {
                const expand = history_set.range_expand || 0;
                result.range_min = minSum - expand;
                result.range_max = maxSum + expand;
                result.recommended = Math.round((minSum + maxSum) / 2);
            } else {
                // ç²¾ç¡®åŒ¹é…æ¨¡å¼
                result.range_min = minSum;
                result.range_max = maxSum;
                result.recommended = null; // ç²¾ç¡®åŒ¹é…æ— æ¨èå€¼
            }
            result.confidence = 75;
            break;
    }

    return result;
}

/**
 * éªŒè¯é¢„æµ‹ç»“æœ
 */
function validatePrediction(prediction, actual, method, historySet) {
    let frontHit, backHit;

    // å†å²å’Œå€¼é›†ç²¾ç¡®åŒ¹é…æ¨¡å¼
    if (method === 'history_set' && historySet?.match_mode === 'exact') {
        frontHit = prediction.front.sum_set.includes(actual.front_sum);
        backHit = prediction.back.sum_set.includes(actual.back_sum);
    } else {
        // èŒƒå›´åŒ¹é…æ¨¡å¼
        frontHit = actual.front_sum >= prediction.front.range_min &&
                   actual.front_sum <= prediction.front.range_max;
        backHit = actual.back_sum >= prediction.back.range_min &&
                  actual.back_sum <= prediction.back.range_max;
    }

    return {
        front_hit: frontHit,
        back_hit: backHit,
        both_hit: frontHit && backHit,
        front_diff: prediction.front.recommended ?
                    Math.abs(actual.front_sum - prediction.front.recommended) : null,
        back_diff: prediction.back.recommended ?
                   Math.abs(actual.back_sum - prediction.back.recommended) : null,
        front_range_position: actual.front_sum < prediction.front.range_min ? 'below' :
                              actual.front_sum > prediction.front.range_max ? 'above' : 'in_range',
        back_range_position: actual.back_sum < prediction.back.range_min ? 'below' :
                             actual.back_sum > prediction.back.range_max ? 'above' : 'in_range'
    };
}
```

### 9.2 æ‰¹é‡æ‰§è¡Œæµç¨‹

```javascript
/**
 * å¤„ç†å’Œå€¼é¢„æµ‹ä»»åŠ¡
 */
async function processSumPredictionTask(taskId) {
    const task = await SumPredictionTask.findOne({ task_id: taskId });
    if (!task) throw new Error('Task not found');

    // æ›´æ–°çŠ¶æ€
    task.status = 'processing';
    task.execution_stats.start_time = new Date();
    await task.save();

    // è·å–æœŸå·åˆ—è¡¨
    const periods = await resolvePeriodRange(task.period_range);
    const trainingWindow = task.training_window;

    // ç»Ÿè®¡å˜é‡
    let frontHits = 0, backHits = 0, bothHits = 0;
    let frontDiffSum = 0, backDiffSum = 0;
    let frontAbove = 0, frontBelow = 0, backAbove = 0, backBelow = 0;

    // é€æœŸå¤„ç†
    for (let i = 0; i < periods.length; i++) {
        const targetPeriod = periods[i];

        // 1. è·å–è®­ç»ƒæ•°æ® (ç›®æ ‡æœŸå·å‰trainingWindowæœŸ)
        const trainingData = await getTrainingData(targetPeriod, trainingWindow);
        if (trainingData.length < trainingWindow) {
            continue; // æ•°æ®ä¸è¶³ï¼Œè·³è¿‡
        }

        // 2. è®¡ç®—é¢„æµ‹
        const prediction = calculateSumPrediction(
            trainingData,
            task.front_strategy,
            task.back_strategy,
            task.technical_analysis
        );

        // 3. è·å–å®é™…å¼€å¥–æ•°æ®
        const actualData = await hit_dlts.findOne({ Issue: targetPeriod });
        if (!actualData) continue;

        const actual = {
            red_balls: [actualData.Red1, actualData.Red2, actualData.Red3, actualData.Red4, actualData.Red5],
            blue_balls: [actualData.Blue1, actualData.Blue2],
            front_sum: actualData.Red1 + actualData.Red2 + actualData.Red3 + actualData.Red4 + actualData.Red5,
            back_sum: actualData.Blue1 + actualData.Blue2
        };

        // 4. éªŒè¯å‘½ä¸­
        const validation = validatePrediction(
            prediction,
            actual,
            task.front_strategy.method,
            task.front_strategy.history_set
        );

        // 5. ç´¯è®¡ç»Ÿè®¡
        if (validation.front_hit) frontHits++;
        if (validation.back_hit) backHits++;
        if (validation.both_hit) bothHits++;
        if (validation.front_diff) frontDiffSum += validation.front_diff;
        if (validation.back_diff) backDiffSum += validation.back_diff;
        if (validation.front_range_position === 'above') frontAbove++;
        if (validation.front_range_position === 'below') frontBelow++;
        if (validation.back_range_position === 'above') backAbove++;
        if (validation.back_range_position === 'below') backBelow++;

        // 6. ä¿å­˜ç»“æœ
        await SumPredictionResult.create({
            result_id: `${taskId}-${targetPeriod}`,
            task_id: taskId,
            period: targetPeriod,
            training_info: {
                start_issue: trainingData[0].Issue,
                end_issue: trainingData[trainingData.length - 1].Issue,
                count: trainingData.length,
                front_sum_set: task.front_strategy.method === 'history_set' ?
                               prediction.front.sum_set : undefined,
                back_sum_set: task.back_strategy.method === 'history_set' ?
                              prediction.back.sum_set : undefined
            },
            prediction: {
                front_sum: prediction.front,
                back_sum: prediction.back
            },
            actual,
            validation
        });

        // 7. æ›´æ–°è¿›åº¦
        task.period_range.processed_periods = i + 1;
        await task.save();

        // 8. å‘é€è¿›åº¦äº‹ä»¶
        io.emit('sum-task-progress', {
            task_id: taskId,
            current: i + 1,
            total: periods.length,
            percent: Math.round((i + 1) / periods.length * 100),
            current_period: targetPeriod
        });
    }

    // æ›´æ–°æ±‡æ€»ç»Ÿè®¡
    const totalPeriods = task.period_range.processed_periods;
    task.summary_stats = {
        front_hit_count: frontHits,
        back_hit_count: backHits,
        both_hit_count: bothHits,
        front_hit_rate: Math.round(frontHits / totalPeriods * 1000) / 10,
        back_hit_rate: Math.round(backHits / totalPeriods * 1000) / 10,
        both_hit_rate: Math.round(bothHits / totalPeriods * 1000) / 10,
        avg_front_diff: Math.round(frontDiffSum / totalPeriods * 10) / 10,
        avg_back_diff: Math.round(backDiffSum / totalPeriods * 10) / 10,
        front_above_count: frontAbove,
        front_below_count: frontBelow,
        back_above_count: backAbove,
        back_below_count: backBelow
    };

    task.status = 'completed';
    task.execution_stats.end_time = new Date();
    task.execution_stats.duration_ms = task.execution_stats.end_time - task.execution_stats.start_time;
    await task.save();

    io.emit('sum-task-completed', {
        task_id: taskId,
        summary_stats: task.summary_stats
    });
}
```

---

## åã€Excelå¯¼å‡ºè®¾è®¡

### 10.1 å¯¼å‡ºå†…å®¹

**Sheet 1: ä»»åŠ¡æ¦‚è§ˆ**
| é¡¹ç›® | å€¼ |
|------|------|
| ä»»åŠ¡ID | sum-pred-20251207-001 |
| ä»»åŠ¡åç§° | MA20éªŒè¯_100æœŸ |
| æœŸå·èŒƒå›´ | 25025-25124 |
| æ€»æœŸæ•° | 100 |
| è®­ç»ƒçª—å£ | 30æœŸ |
| å‰åŒºç­–ç•¥ | MA20 Â±10 |
| ååŒºç­–ç•¥ | MA10 Â±3 |
| å‰åŒºå‘½ä¸­ç‡ | 45.0% (45/100) |
| ååŒºå‘½ä¸­ç‡ | 52.0% (52/100) |
| åŒåŒºå‘½ä¸­ç‡ | 28.0% (28/100) |
| å‰åŒºå¹³å‡åå·® | 8.3 |
| ååŒºå¹³å‡åå·® | 1.5 |

**Sheet 2: è¯¦ç»†ç»“æœ**
| æœŸå· | è®­ç»ƒèµ·å§‹ | è®­ç»ƒç»“æŸ | å‰åŒºé¢„æµ‹èŒƒå›´ | å‰åŒºæ¨èå€¼ | å‰åŒºå®é™… | å‰åŒºåå·® | å‰åŒºå‘½ä¸­ | ååŒºé¢„æµ‹èŒƒå›´ | ååŒºæ¨èå€¼ | ååŒºå®é™… | ååŒºåå·® | ååŒºå‘½ä¸­ |
|------|----------|----------|-------------|-----------|---------|---------|---------|-------------|-----------|---------|---------|---------|
| 25124 | 25094 | 25123 | 83-103 | 93 | 95 | 2 | âœ… | 8-14 | 11 | 12 | 1 | âœ… |

**Sheet 3: ç»Ÿè®¡åˆ†æ**
- å‘½ä¸­ç‡åˆ†å¸ƒ
- åå·®åˆ†å¸ƒ
- è¶‹åŠ¿æ•°æ®

---

## åä¸€ã€å®æ–½è®¡åˆ’

### é˜¶æ®µ1: åç«¯åŸºç¡€
1. æ–°å¢æ•°æ®æ¨¡å‹ `SumPredictionTask` å’Œ `SumPredictionResult`
2. å®ç°5ç§é¢„æµ‹ç®—æ³•æ ¸å¿ƒå‡½æ•°
3. å®ç°ä»»åŠ¡åˆ›å»ºAPI

### é˜¶æ®µ2: åç«¯å®Œå–„
1. å®ç°æ‰¹é‡æ‰§è¡Œé€»è¾‘
2. å®ç°ç»“æœæŸ¥è¯¢å’Œç»Ÿè®¡API
3. æ·»åŠ Socketè¿›åº¦æ¨é€
4. å®ç°Excelå¯¼å‡º

### é˜¶æ®µ3: å‰ç«¯å®ç°
1. æ–°å¢å’Œå€¼é¢„æµ‹é¢æ¿UI
2. å®ç°ä»»åŠ¡åˆ›å»ºè¡¨å•
3. å®ç°ç»“æœå±•ç¤ºé¡µé¢
4. æ·»åŠ è¿›åº¦ç›‘å¬

### é˜¶æ®µ4: é«˜çº§åŠŸèƒ½
1. å®ç°è‡ªåŠ¨å¯»ä¼˜åŠŸèƒ½
2. å®ç°æŠ€æœ¯åˆ†æå¢å¼º
3. ä¼˜åŒ–å’Œæµ‹è¯•

---

## åäºŒã€å¾…ç¡®è®¤æ¸…å•

| åºå· | ç¡®è®¤é¡¹ | é»˜è®¤å€¼ | å¤‡æ³¨ |
|------|--------|--------|------|
| 1 | è®­ç»ƒçª—å£é»˜è®¤å€¼ | 30æœŸ | å¯è‡ªå®šä¹‰10-200 |
| 2 | å‰åŒºMAå‘¨æœŸé»˜è®¤å€¼ | 20æœŸ | |
| 3 | å‰åŒºèŒƒå›´æ‰©å±•é»˜è®¤å€¼ | Â±10 | |
| 4 | ååŒºMAå‘¨æœŸé»˜è®¤å€¼ | 10æœŸ | |
| 5 | ååŒºèŒƒå›´æ‰©å±•é»˜è®¤å€¼ | Â±3 | |
| 6 | æ˜¯å¦ä¿ç•™ç°æœ‰ä¸“å®¶å’Œå€¼é¢„æµ‹åŠŸèƒ½ | å¦ (æ›¿æ¢) | æˆ–ä¿ç•™ä½œä¸ºå¿«é€Ÿé¢„æµ‹ |
| 7 | æ˜¯å¦é»˜è®¤å¯ç”¨æŠ€æœ¯åˆ†æå¢å¼º | å¦ | ä½œä¸ºå¯é€‰åŠŸèƒ½ |
| 8 | è‡ªåŠ¨å¯»ä¼˜æ˜¯å¦åœ¨ç¬¬ä¸€ç‰ˆå®ç° | æ˜¯ | æˆ–å»¶åå®ç° |

---

## åä¸‰ã€é™„å½•ï¼šå‚æ•°æ¨èé…ç½®

### æ–°æ‰‹æ¨è
```
è®­ç»ƒçª—å£: 30æœŸ
å‰åŒº: MA20 Â±10
ååŒº: MA10 Â±3
æŠ€æœ¯åˆ†æ: å…³é—­
```

### è¿›é˜¶å¯¹æ¯”æµ‹è¯•
å»ºè®®åˆ›å»ºå¤šä¸ªä»»åŠ¡å¯¹æ¯”:
1. MA10 Â±10 vs MA20 Â±10 vs MA30 Â±10 (å¯¹æ¯”MAå‘¨æœŸå½±å“)
2. MA20 Â±5 vs MA20 Â±10 vs MA20 Â±15 (å¯¹æ¯”èŒƒå›´æ‰©å±•å½±å“)
3. MA vs åŠ æƒMA vs å†å²å’Œå€¼é›† (å¯¹æ¯”æ–¹æ³•å·®å¼‚)

---

> **ç¡®è®¤åå¼€å§‹å®æ–½**
> å¦‚æœ‰ä»»ä½•è°ƒæ•´éœ€æ±‚ï¼Œè¯·å‘ŠçŸ¥ã€‚
