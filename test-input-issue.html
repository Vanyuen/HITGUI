<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è¾“å…¥æ¡†é—®é¢˜æµ‹è¯•</title>
    <style>
        body {
            font-family: 'Microsoft YaHei', sans-serif;
            padding: 30px;
            background: #f5f5f5;
        }

        .test-section {
            background: white;
            padding: 20px;
            margin-bottom: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .test-section h2 {
            margin-top: 0;
            color: #333;
        }

        /* é—®é¢˜åœºæ™¯ï¼šlabelå†…åµŒå¥—label */
        .batch-historical-exclude {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
            padding: 10px;
            border: 1px solid #e0e0e0;
            border-radius: 4px;
        }

        .batch-checkbox-wrapper {
            display: inline-flex;
            align-items: center;
            cursor: pointer;
        }

        .batch-radio-option {
            display: inline-flex;
            align-items: center;
            cursor: pointer;
        }

        input[type="number"] {
            width: 100px;
            padding: 6px;
            border: 1px solid #ced4da;
            border-radius: 4px;
            text-align: center;
        }

        input[type="number"]:disabled {
            background: #e9ecef;
            opacity: 0.6;
        }

        .status {
            margin-top: 10px;
            padding: 10px;
            background: #e3f2fd;
            border-radius: 4px;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <h1>ğŸ” è¾“å…¥æ¡†æ— æ³•è¾“å…¥é—®é¢˜è¯Šæ–­</h1>

    <!-- åœºæ™¯1ï¼šå½“å‰çš„HTMLç»“æ„ï¼ˆå¯èƒ½æœ‰é—®é¢˜ï¼‰ -->
    <div class="test-section">
        <h2>âŒ åœºæ™¯1ï¼šlabelåµŒå¥—ç»“æ„ï¼ˆé—®é¢˜åœºæ™¯ï¼‰</h2>
        <p>è¿™æ˜¯å½“å‰ä»£ç çš„ç»“æ„ - <strong>inputåœ¨labelå†…ï¼Œä½†labelå¤–è¿˜åŒ…äº†ä¸€å±‚label</strong></p>

        <div class="batch-historical-exclude">
            <label class="batch-checkbox-wrapper">
                <input type="checkbox" id="test1-enabled">
                <span>æ’é™¤å’Œå€¼èŒƒå›´1:</span>
            </label>
            <input type="number" id="test1-min" placeholder="æœ€å°å€¼" min="15" max="175">
            <span>-</span>
            <input type="number" id="test1-max" placeholder="æœ€å¤§å€¼" min="15" max="175">
        </div>

        <div class="status">
            <strong>æµ‹è¯•ç»“æœï¼š</strong><span id="result1">å¾…æµ‹è¯•</span>
        </div>
    </div>

    <!-- åœºæ™¯2ï¼šæ­£å¸¸ç»“æ„ -->
    <div class="test-section">
        <h2>âœ… åœºæ™¯2ï¼šæ­£å¸¸divç»“æ„ï¼ˆå¯¹ç…§ç»„ï¼‰</h2>
        <p>ä½¿ç”¨divæ›¿ä»£labelå¤–å±‚</p>

        <div class="batch-historical-exclude">
            <div class="batch-checkbox-wrapper">
                <input type="checkbox" id="test2-enabled">
                <span>æ’é™¤å’Œå€¼èŒƒå›´1:</span>
            </div>
            <input type="number" id="test2-min" placeholder="æœ€å°å€¼" min="15" max="175">
            <span>-</span>
            <input type="number" id="test2-max" placeholder="æœ€å¤§å€¼" min="15" max="175">
        </div>

        <div class="status">
            <strong>æµ‹è¯•ç»“æœï¼š</strong><span id="result2">å¾…æµ‹è¯•</span>
        </div>
    </div>

    <!-- åœºæ™¯3ï¼šlabelåµŒå¥—labelï¼ˆæ›´æç«¯çš„æƒ…å†µï¼‰ -->
    <div class="test-section">
        <h2>âš ï¸ åœºæ™¯3ï¼šlabelå®Œå…¨åµŒå¥—ï¼ˆæœ€åæƒ…å†µï¼‰</h2>
        <p>å¤–å±‚labelåŒ…å«æ‰€æœ‰å†…å®¹</p>

        <label class="batch-historical-exclude">
            <label class="batch-checkbox-wrapper">
                <input type="checkbox" id="test3-enabled">
                <span>æ’é™¤å’Œå€¼èŒƒå›´1:</span>
            </label>
            <input type="number" id="test3-min" placeholder="æœ€å°å€¼" min="15" max="175">
            <span>-</span>
            <input type="number" id="test3-max" placeholder="æœ€å¤§å€¼" min="15" max="175">
        </label>

        <div class="status">
            <strong>æµ‹è¯•ç»“æœï¼š</strong><span id="result3">å¾…æµ‹è¯•</span>
        </div>
    </div>

    <!-- åœºæ™¯4ï¼šç¦ç”¨çŠ¶æ€æµ‹è¯• -->
    <div class="test-section">
        <h2>ğŸ”’ åœºæ™¯4ï¼šç¦ç”¨çŠ¶æ€æµ‹è¯•</h2>
        <p>å‹¾é€‰å¤é€‰æ¡†åè¾“å…¥æ¡†ä¼šå¯ç”¨</p>

        <div class="batch-historical-exclude">
            <div class="batch-checkbox-wrapper">
                <input type="checkbox" id="test4-enabled">
                <span>æ’é™¤å’Œå€¼èŒƒå›´1:</span>
            </div>
            <input type="number" id="test4-min" placeholder="æœ€å°å€¼" min="15" max="175" disabled>
            <span>-</span>
            <input type="number" id="test4-max" placeholder="æœ€å¤§å€¼" min="15" max="175" disabled>
        </div>

        <div class="status">
            <strong>çŠ¶æ€ï¼š</strong><span id="result4">è¾“å…¥æ¡†å·²ç¦ç”¨ï¼Œå‹¾é€‰å¤é€‰æ¡†å¯ç”¨</span>
        </div>
    </div>

    <script>
        // ç›‘å¬è¾“å…¥äº‹ä»¶
        document.getElementById('test1-min').addEventListener('input', (e) => {
            document.getElementById('result1').textContent = 'âœ… å¯ä»¥è¾“å…¥ï¼å€¼=' + e.target.value;
            document.getElementById('result1').style.color = 'green';
        });

        document.getElementById('test2-min').addEventListener('input', (e) => {
            document.getElementById('result2').textContent = 'âœ… å¯ä»¥è¾“å…¥ï¼å€¼=' + e.target.value;
            document.getElementById('result2').style.color = 'green';
        });

        document.getElementById('test3-min').addEventListener('input', (e) => {
            document.getElementById('result3').textContent = 'âœ… å¯ä»¥è¾“å…¥ï¼å€¼=' + e.target.value;
            document.getElementById('result3').style.color = 'green';
        });

        // ç›‘å¬ç‚¹å‡»äº‹ä»¶
        ['test1-min', 'test2-min', 'test3-min'].forEach(id => {
            document.getElementById(id).addEventListener('click', function(e) {
                console.log(`${id} clicked, focus available:`, document.activeElement === this);
            });

            document.getElementById(id).addEventListener('focus', function() {
                console.log(`${id} focused successfully`);
            });
        });

        // åœºæ™¯4ï¼šå¯ç”¨/ç¦ç”¨æ§åˆ¶
        document.getElementById('test4-enabled').addEventListener('change', function() {
            const minInput = document.getElementById('test4-min');
            const maxInput = document.getElementById('test4-max');
            minInput.disabled = !this.checked;
            maxInput.disabled = !this.checked;

            document.getElementById('result4').textContent = this.checked ?
                'âœ… è¾“å…¥æ¡†å·²å¯ç”¨' : 'ğŸ”’ è¾“å…¥æ¡†å·²ç¦ç”¨';
        });

        // æµ‹è¯•ç„¦ç‚¹è·å–
        setTimeout(() => {
            console.log('=== 3ç§’åè‡ªåŠ¨ç„¦ç‚¹æµ‹è¯• ===');
            const inputs = ['test1-min', 'test2-min', 'test3-min'];
            inputs.forEach((id, index) => {
                setTimeout(() => {
                    const input = document.getElementById(id);
                    input.focus();
                    console.log(`å°è¯•èšç„¦ ${id}, å½“å‰ç„¦ç‚¹:`, document.activeElement.id);
                }, index * 1000);
            });
        }, 3000);
    </script>
</body>
</html>
