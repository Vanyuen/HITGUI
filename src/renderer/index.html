<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HIT</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="dlt-styles.css">
    <link rel="stylesheet" href="scrollbar-fix.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="container">
        <nav class="nav-bar">
            <div class="nav-logo">HIT</div>
            <div class="nav-menu">
                <button class="nav-item active" data-panel="ssq">双色球</button>
                <button class="nav-item" data-panel="dlt">大乐透</button>
            </div>
        </nav>
        
        <main class="main-content">
            <div id="ssq-panel" class="panel active">
                <div class="sub-nav">
                    <button class="sub-nav-item active" data-content="history">往期开奖</button>
                    <button class="sub-nav-item" data-content="trend">走势图</button>
                    <button class="sub-nav-item" data-content="expert">专家推荐</button>
                    <button class="sub-nav-item" data-content="combination">组合预测</button>
                </div>
                <div class="panel-container">
                    <div id="ssq-history" class="panel-content active">
                        <div class="content-header">
                            <h2>往期开奖</h2>
                            <div class="header-actions">
                                <button class="refresh-btn">刷新数据</button>
                            </div>
                        </div>
                        <div class="content-body">
                            <div class="lottery-history">
                                <table class="lottery-table">
                                    <thead>
                                        <tr>
                                            <th>期号</th>
                                            <th>开奖星期</th>
                                            <th>开奖号码</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                                <div class="pagination">
                                    <button class="prev-page">上一页</button>
                                    <span class="page-info">第 1 页</span>
                                    <button class="next-page">下一页</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="ssq-trend" class="panel-content">
                        <div class="content-header">
                            <h2>双色球走势图</h2>
                            <div class="trend-controls">
                                <div class="period-selector">
                                    <button class="period-btn active" data-periods="30">最近30期</button>
                                    <button class="period-btn" data-periods="50">最近50期</button>
                                    <button class="period-btn" data-periods="100">最近100期</button>
                                </div>
                                <div class="zoom-controls">
                                    <label>缩放:</label>
                                    <button class="zoom-btn" data-zoom="0.5">50%</button>
                                    <button class="zoom-btn" data-zoom="0.75">75%</button>
                                    <button class="zoom-btn active" data-zoom="1.0">100%</button>
                                    <button class="zoom-btn" data-zoom="1.25">125%</button>
                                    <button class="zoom-btn" data-zoom="1.5">150%</button>
                                </div>
                                <div class="custom-range-selector">
                                    <input type="text" id="startIssue" placeholder="起始期号" maxlength="7">
                                    <span>至</span>
                                    <input type="text" id="endIssue" placeholder="结束期号" maxlength="7">
                                    <button class="custom-range-btn">查询</button>
                                    <button class="co-occurrence-btn">同出数据</button>
                                    <button class="conflict-data-btn">相克数据</button>
                                </div>
                            </div>
                        </div>
                        <div class="content-body">
                            <div class="trend-zoom-wrapper">
                                <div class="trend-table-container">
                                    <table class="trend-table">
                                        <thead>
                                            <tr class="header-row">
                                                <th rowspan="2" class="fixed-col">期号</th>
                                            <th rowspan="2" class="fixed-col">星期</th>
                                            <th colspan="11" class="zone-header">一区(1-11)</th>
                                            <th colspan="11" class="zone-header">二区(12-22)</th>
                                            <th colspan="11" class="zone-header">三区(23-33)</th>
                                            <th colspan="16" class="zone-header blue-zone">蓝球区(1-16)</th>
                                        </tr>
                                        <tr class="number-row">
                                            <!-- 一区号码 1-11 -->
                                            <th>1</th><th>2</th><th>3</th><th>4</th><th>5</th>
                                            <th>6</th><th>7</th><th>8</th><th>9</th><th>10</th><th>11</th>
                                            <!-- 二区号码 12-22 -->
                                            <th>12</th><th>13</th><th>14</th><th>15</th><th>16</th>
                                            <th>17</th><th>18</th><th>19</th><th>20</th><th>21</th><th>22</th>
                                            <!-- 三区号码 23-33 -->
                                            <th>23</th><th>24</th><th>25</th><th>26</th><th>27</th>
                                            <th>28</th><th>29</th><th>30</th><th>31</th><th>32</th><th>33</th>
                                            <!-- 蓝球号码 1-16 -->
                                            <th>1</th><th>2</th><th>3</th><th>4</th><th>5</th><th>6</th><th>7</th><th>8</th>
                                            <th>9</th><th>10</th><th>11</th><th>12</th><th>13</th><th>14</th><th>15</th><th>16</th>
                                        </tr>
                                    </thead>
                                    <tbody id="trendTableBody">
                                        <!-- 数据行将通过JavaScript动态生成 -->
                                    </tbody>
                                </table>
                            </div>
                            </div>
                        </div>
                    </div>
                    <div id="ssq-expert" class="panel-content">
                        <div class="content-header">
                            <h2>专家推荐</h2>
                            <div class="header-actions">
                                <button class="refresh-btn">刷新数据</button>
                            </div>
                        </div>
                        <div class="content-body"></div>
                    </div>
                    <div id="ssq-combination" class="panel-content">
                        <div class="content-header">
                            <h2>双色球组合预测</h2>
                        </div>

                        <!-- 筛选条件配置 -->
                        <div class="ssq-filter-configuration">
                            <div class="filter-sections">
                                
                                <!-- 基础设置 -->
                                <div class="filter-section" id="ssq-basic-settings">
                                    <h3>📋 基础设置</h3>
                                    <div class="filter-grid">
                                        <div class="filter-item">
                                            <label>目标期号:</label>
                                            <select id="ssq-target-issue" class="filter-input">
                                                <option value="">选择期号</option>
                                            </select>
                                        </div>
                                        <div class="filter-item">
                                            <label>期号管理:</label>
                                            <button onclick="window.loadSSQLatestIssues()" class="filter-input" style="background: #007bff; color: white; border: none; cursor: pointer;">
                                                🔄 刷新期号
                                            </button>
                                        </div>
                                    </div>
                                </div>

                                <!-- 红球筛选 -->
                                <div class="filter-section" id="ssq-red-ball-filters">
                                    <h3>🔴 红球筛选条件</h3>
                                    <div class="filter-grid">
                                        <div class="filter-item range-item full-width">
                                            <label>排除和值范围 (可同时排除多个范围):</label>
                                            <div class="multi-range-container">
                                                <div class="range-group">
                                                    <label class="range-checkbox-wrapper">
                                                        <input type="checkbox" id="ssq-sum-range-1-enabled" class="range-checkbox">
                                                        <span class="range-label">范围1:</span>
                                                    </label>
                                                    <div class="range-inputs">
                                                        <input type="number" id="ssq-sum-range-1-min" min="21" max="183" value="21" class="range-input" disabled>
                                                        <span>-</span>
                                                        <input type="number" id="ssq-sum-range-1-max" min="21" max="183" value="183" class="range-input" disabled>
                                                    </div>
                                                </div>
                                                <div class="range-group">
                                                    <label class="range-checkbox-wrapper">
                                                        <input type="checkbox" id="ssq-sum-range-2-enabled" class="range-checkbox">
                                                        <span class="range-label">范围2:</span>
                                                    </label>
                                                    <div class="range-inputs">
                                                        <input type="number" id="ssq-sum-range-2-min" min="21" max="183" value="" placeholder="最小值" class="range-input" disabled>
                                                        <span>-</span>
                                                        <input type="number" id="ssq-sum-range-2-max" min="21" max="183" value="" placeholder="最大值" class="range-input" disabled>
                                                    </div>
                                                </div>
                                                <div class="range-group">
                                                    <label class="range-checkbox-wrapper">
                                                        <input type="checkbox" id="ssq-sum-range-3-enabled" class="range-checkbox">
                                                        <span class="range-label">范围3:</span>
                                                    </label>
                                                    <div class="range-inputs">
                                                        <input type="number" id="ssq-sum-range-3-min" min="21" max="183" value="" placeholder="最小值" class="range-input" disabled>
                                                        <span>-</span>
                                                        <input type="number" id="ssq-sum-range-3-max" min="21" max="183" value="" placeholder="最大值" class="range-input" disabled>
                                                    </div>
                                                </div>
                                            </div>
                                            <small class="range-note">💡 勾选启用相应范围，可同时排除1-3个不同的和值范围</small>
                                            
                                            <div class="exclude-recent-section">
                                                <div class="exclude-option">
                                                    <label class="exclude-checkbox-wrapper">
                                                        <input type="checkbox" id="ssq-sum-exclude-recent-enabled" class="exclude-checkbox">
                                                        <span class="exclude-label">🚫 排除最近</span>
                                                    </label>
                                                    <input type="number" id="ssq-sum-exclude-recent-periods" min="1" max="100" value="10" placeholder="期数" class="exclude-input" disabled title="请先勾选左侧复选框后才能输入">
                                                    <span class="exclude-suffix">期的和值</span>
                                                </div>
                                                <small class="exclude-note">💡 <strong>使用说明：</strong>先勾选上方复选框，输入框才能编辑，用于排除最近指定期数中出现过的所有和值</small>
                                            </div>
                                        </div>
                                        <div class="filter-item range-item">
                                            <label>排除跨度范围 (可同时排除多个范围):</label>
                                            <div class="multi-range-container">
                                                <div class="range-group">
                                                    <label class="range-checkbox-wrapper">
                                                        <input type="checkbox" id="ssq-span-range-1-enabled" class="range-checkbox">
                                                        <span class="range-label">范围1:</span>
                                                    </label>
                                                    <div class="range-inputs">
                                                        <input type="number" id="ssq-span-range-1-min" min="5" max="32" value="5" class="range-input" disabled>
                                                        <span>-</span>
                                                        <input type="number" id="ssq-span-range-1-max" min="5" max="32" value="32" class="range-input" disabled>
                                                    </div>
                                                </div>
                                                <div class="range-group">
                                                    <label class="range-checkbox-wrapper">
                                                        <input type="checkbox" id="ssq-span-range-2-enabled" class="range-checkbox">
                                                        <span class="range-label">范围2:</span>
                                                    </label>
                                                    <div class="range-inputs">
                                                        <input type="number" id="ssq-span-range-2-min" min="5" max="32" value="" placeholder="最小值" class="range-input" disabled>
                                                        <span>-</span>
                                                        <input type="number" id="ssq-span-range-2-max" min="5" max="32" value="" placeholder="最大值" class="range-input" disabled>
                                                    </div>
                                                </div>
                                                <div class="range-group">
                                                    <label class="range-checkbox-wrapper">
                                                        <input type="checkbox" id="ssq-span-range-3-enabled" class="range-checkbox">
                                                        <span class="range-label">范围3:</span>
                                                    </label>
                                                    <div class="range-inputs">
                                                        <input type="number" id="ssq-span-range-3-min" min="5" max="32" value="" placeholder="最小值" class="range-input" disabled>
                                                        <span>-</span>
                                                        <input type="number" id="ssq-span-range-3-max" min="5" max="32" value="" placeholder="最大值" class="range-input" disabled>
                                                    </div>
                                                </div>
                                                <small class="exclude-note">💡 <strong>使用说明：</strong>先勾选上方复选框，输入框才能编辑，跨度范围5-32</small>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="filter-grid">
                                        <div class="filter-item full-width">
                                            <label>排除区间比 (一区01-11:二区12-22:三区23-33):</label>
                                            <div class="checkbox-group multi-line">
                                                <label><input type="checkbox" value="6:0:0" class="ssq-zone-ratio-cb"> 6:0:0</label>
                                                <label><input type="checkbox" value="5:1:0" class="ssq-zone-ratio-cb"> 5:1:0</label>
                                                <label><input type="checkbox" value="5:0:1" class="ssq-zone-ratio-cb"> 5:0:1</label>
                                                <label><input type="checkbox" value="4:2:0" class="ssq-zone-ratio-cb"> 4:2:0</label>
                                                <label><input type="checkbox" value="4:1:1" class="ssq-zone-ratio-cb"> 4:1:1</label>
                                                <label><input type="checkbox" value="4:0:2" class="ssq-zone-ratio-cb"> 4:0:2</label>
                                                <label><input type="checkbox" value="3:3:0" class="ssq-zone-ratio-cb"> 3:3:0</label>
                                                <label><input type="checkbox" value="3:2:1" class="ssq-zone-ratio-cb"> 3:2:1</label>
                                                <label><input type="checkbox" value="3:1:2" class="ssq-zone-ratio-cb"> 3:1:2</label>
                                                <label><input type="checkbox" value="3:0:3" class="ssq-zone-ratio-cb"> 3:0:3</label>
                                                <label><input type="checkbox" value="2:4:0" class="ssq-zone-ratio-cb"> 2:4:0</label>
                                                <label><input type="checkbox" value="2:3:1" class="ssq-zone-ratio-cb"> 2:3:1</label>
                                                <label><input type="checkbox" value="2:2:2" class="ssq-zone-ratio-cb"> 2:2:2</label>
                                                <label><input type="checkbox" value="2:1:3" class="ssq-zone-ratio-cb"> 2:1:3</label>
                                                <label><input type="checkbox" value="2:0:4" class="ssq-zone-ratio-cb"> 2:0:4</label>
                                                <label><input type="checkbox" value="1:5:0" class="ssq-zone-ratio-cb"> 1:5:0</label>
                                                <label><input type="checkbox" value="1:4:1" class="ssq-zone-ratio-cb"> 1:4:1</label>
                                                <label><input type="checkbox" value="1:3:2" class="ssq-zone-ratio-cb"> 1:3:2</label>
                                                <label><input type="checkbox" value="1:2:3" class="ssq-zone-ratio-cb"> 1:2:3</label>
                                                <label><input type="checkbox" value="1:1:4" class="ssq-zone-ratio-cb"> 1:1:4</label>
                                                <label><input type="checkbox" value="1:0:5" class="ssq-zone-ratio-cb"> 1:0:5</label>
                                                <label><input type="checkbox" value="0:6:0" class="ssq-zone-ratio-cb"> 0:6:0</label>
                                                <label><input type="checkbox" value="0:5:1" class="ssq-zone-ratio-cb"> 0:5:1</label>
                                                <label><input type="checkbox" value="0:4:2" class="ssq-zone-ratio-cb"> 0:4:2</label>
                                                <label><input type="checkbox" value="0:3:3" class="ssq-zone-ratio-cb"> 0:3:3</label>
                                                <label><input type="checkbox" value="0:2:4" class="ssq-zone-ratio-cb"> 0:2:4</label>
                                                <label><input type="checkbox" value="0:1:5" class="ssq-zone-ratio-cb"> 0:1:5</label>
                                                <label><input type="checkbox" value="0:0:6" class="ssq-zone-ratio-cb"> 0:0:6</label>
                                            </div>
                                            <div class="exclude-recent-section">
                                                <div class="exclude-option">
                                                    <label class="exclude-checkbox-wrapper">
                                                        <input type="checkbox" id="ssq-zone-exclude-recent-enabled" class="exclude-checkbox">
                                                        <span class="exclude-label">🚫 排除最近</span>
                                                    </label>
                                                    <input type="number" id="ssq-zone-exclude-recent-periods" min="1" max="100" value="10" placeholder="期数" class="exclude-input" disabled title="请先勾选左侧复选框后才能输入">
                                                    <span class="exclude-suffix">期的区间比</span>
                                                </div>
                                                <small class="exclude-note">💡 <strong>使用说明：</strong>先勾选上方复选框，输入框才能编辑，用于排除最近指定期数中出现过的所有区间比</small>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="filter-grid">
                                        <div class="filter-item">
                                            <label>排除奇偶比:</label>
                                            <div class="checkbox-group">
                                                <label><input type="checkbox" value="6:0" class="ssq-odd-even-cb"> 6:0</label>
                                                <label><input type="checkbox" value="5:1" class="ssq-odd-even-cb"> 5:1</label>
                                                <label><input type="checkbox" value="4:2" class="ssq-odd-even-cb"> 4:2</label>
                                                <label><input type="checkbox" value="3:3" class="ssq-odd-even-cb"> 3:3</label>
                                                <label><input type="checkbox" value="2:4" class="ssq-odd-even-cb"> 2:4</label>
                                                <label><input type="checkbox" value="1:5" class="ssq-odd-even-cb"> 1:5</label>
                                                <label><input type="checkbox" value="0:6" class="ssq-odd-even-cb"> 0:6</label>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- 热温冷筛选 -->
                                <div class="filter-section" id="ssq-hot-warm-cold-filters">
                                    <h3>🌡️ 热温冷筛选条件</h3>
                                    <div class="filter-grid">
                                        <div class="filter-item">
                                            <label>排除热温冷比 (热:温:冷):</label>
                                            <div class="checkbox-group multi-line">
                                                <label><input type="checkbox" value="6:0:0" class="ssq-hwc-ratio-cb"> 6:0:0</label>
                                                <label><input type="checkbox" value="5:1:0" class="ssq-hwc-ratio-cb"> 5:1:0</label>
                                                <label><input type="checkbox" value="5:0:1" class="ssq-hwc-ratio-cb"> 5:0:1</label>
                                                <label><input type="checkbox" value="4:2:0" class="ssq-hwc-ratio-cb"> 4:2:0</label>
                                                <label><input type="checkbox" value="4:1:1" class="ssq-hwc-ratio-cb"> 4:1:1</label>
                                                <label><input type="checkbox" value="4:0:2" class="ssq-hwc-ratio-cb"> 4:0:2</label>
                                                <label><input type="checkbox" value="3:3:0" class="ssq-hwc-ratio-cb"> 3:3:0</label>
                                                <label><input type="checkbox" value="3:2:1" class="ssq-hwc-ratio-cb"> 3:2:1</label>
                                                <label><input type="checkbox" value="3:1:2" class="ssq-hwc-ratio-cb"> 3:1:2</label>
                                                <label><input type="checkbox" value="3:0:3" class="ssq-hwc-ratio-cb"> 3:0:3</label>
                                                <label><input type="checkbox" value="2:4:0" class="ssq-hwc-ratio-cb"> 2:4:0</label>
                                                <label><input type="checkbox" value="2:3:1" class="ssq-hwc-ratio-cb"> 2:3:1</label>
                                                <label><input type="checkbox" value="2:2:2" class="ssq-hwc-ratio-cb"> 2:2:2</label>
                                                <label><input type="checkbox" value="2:1:3" class="ssq-hwc-ratio-cb"> 2:1:3</label>
                                                <label><input type="checkbox" value="2:0:4" class="ssq-hwc-ratio-cb"> 2:0:4</label>
                                                <label><input type="checkbox" value="1:5:0" class="ssq-hwc-ratio-cb"> 1:5:0</label>
                                                <label><input type="checkbox" value="1:4:1" class="ssq-hwc-ratio-cb"> 1:4:1</label>
                                                <label><input type="checkbox" value="1:3:2" class="ssq-hwc-ratio-cb"> 1:3:2</label>
                                                <label><input type="checkbox" value="1:2:3" class="ssq-hwc-ratio-cb"> 1:2:3</label>
                                                <label><input type="checkbox" value="1:1:4" class="ssq-hwc-ratio-cb"> 1:1:4</label>
                                                <label><input type="checkbox" value="1:0:5" class="ssq-hwc-ratio-cb"> 1:0:5</label>
                                                <label><input type="checkbox" value="0:6:0" class="ssq-hwc-ratio-cb"> 0:6:0</label>
                                                <label><input type="checkbox" value="0:5:1" class="ssq-hwc-ratio-cb"> 0:5:1</label>
                                                <label><input type="checkbox" value="0:4:2" class="ssq-hwc-ratio-cb"> 0:4:2</label>
                                                <label><input type="checkbox" value="0:3:3" class="ssq-hwc-ratio-cb"> 0:3:3</label>
                                                <label><input type="checkbox" value="0:2:4" class="ssq-hwc-ratio-cb"> 0:2:4</label>
                                                <label><input type="checkbox" value="0:1:5" class="ssq-hwc-ratio-cb"> 0:1:5</label>
                                                <label><input type="checkbox" value="0:0:6" class="ssq-hwc-ratio-cb"> 0:0:6</label>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="filter-grid">
                                        <div class="filter-item range-item">
                                            <label>热号数量:</label>
                                            <div class="range-inputs">
                                                <input type="number" id="ssq-hot-min" min="0" max="6" placeholder="最小值" class="range-input">
                                                <span>-</span>
                                                <input type="number" id="ssq-hot-max" min="0" max="6" placeholder="最大值" class="range-input">
                                            </div>
                                        </div>
                                        <div class="filter-item range-item">
                                            <label>温号数量:</label>
                                            <div class="range-inputs">
                                                <input type="number" id="ssq-warm-min" min="0" max="6" placeholder="最小值" class="range-input">
                                                <span>-</span>
                                                <input type="number" id="ssq-warm-max" min="0" max="6" placeholder="最大值" class="range-input">
                                            </div>
                                        </div>
                                        <div class="filter-item range-item">
                                            <label>冷号数量:</label>
                                            <div class="range-inputs">
                                                <input type="number" id="ssq-cold-min" min="0" max="6" placeholder="最小值" class="range-input">
                                                <span>-</span>
                                                <input type="number" id="ssq-cold-max" min="0" max="6" placeholder="最大值" class="range-input">
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="exclude-recent-section">
                                        <div class="exclude-option">
                                            <label class="exclude-checkbox-wrapper">
                                                <input type="checkbox" id="ssq-hwc-exclude-recent-enabled" class="exclude-checkbox">
                                                <span class="exclude-label">🚫 排除最近</span>
                                            </label>
                                            <input type="number" id="ssq-hwc-exclude-recent-periods" min="1" max="100" value="10" placeholder="期数" class="exclude-input" disabled title="请先勾选左侧复选框后才能输入">
                                            <span class="exclude-suffix">期的热温冷比</span>
                                        </div>
                                        <small class="exclude-note">💡 <strong>使用说明：</strong>先勾选上方复选框，输入框才能编辑，用于排除最近指定期数中出现过的所有热温冷比</small>
                                    </div>
                                </div>

                                <!-- 蓝球筛选 -->
                                <div class="filter-section" id="ssq-blue-ball-filters">
                                    <h3>🔵 蓝球筛选条件</h3>
                                    <div class="filter-grid">
                                        <div class="filter-item">
                                            <label>蓝球范围:</label>
                                            <div class="range-inputs">
                                                <input type="number" id="ssq-blue-min" min="1" max="16" placeholder="最小值" class="range-input">
                                                <span>-</span>
                                                <input type="number" id="ssq-blue-max" min="1" max="16" placeholder="最大值" class="range-input">
                                            </div>
                                        </div>
                                        <div class="filter-item">
                                            <label>排除蓝球:</label>
                                            <div class="checkbox-group multi-line">
                                                <label><input type="checkbox" value="1" class="ssq-blue-exclude-cb"> 1</label>
                                                <label><input type="checkbox" value="2" class="ssq-blue-exclude-cb"> 2</label>
                                                <label><input type="checkbox" value="3" class="ssq-blue-exclude-cb"> 3</label>
                                                <label><input type="checkbox" value="4" class="ssq-blue-exclude-cb"> 4</label>
                                                <label><input type="checkbox" value="5" class="ssq-blue-exclude-cb"> 5</label>
                                                <label><input type="checkbox" value="6" class="ssq-blue-exclude-cb"> 6</label>
                                                <label><input type="checkbox" value="7" class="ssq-blue-exclude-cb"> 7</label>
                                                <label><input type="checkbox" value="8" class="ssq-blue-exclude-cb"> 8</label>
                                                <label><input type="checkbox" value="9" class="ssq-blue-exclude-cb"> 9</label>
                                                <label><input type="checkbox" value="10" class="ssq-blue-exclude-cb"> 10</label>
                                                <label><input type="checkbox" value="11" class="ssq-blue-exclude-cb"> 11</label>
                                                <label><input type="checkbox" value="12" class="ssq-blue-exclude-cb"> 12</label>
                                                <label><input type="checkbox" value="13" class="ssq-blue-exclude-cb"> 13</label>
                                                <label><input type="checkbox" value="14" class="ssq-blue-exclude-cb"> 14</label>
                                                <label><input type="checkbox" value="15" class="ssq-blue-exclude-cb"> 15</label>
                                                <label><input type="checkbox" value="16" class="ssq-blue-exclude-cb"> 16</label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 预测按钮 -->
                        <div class="prediction-controls">
                            <button id="ssq-predict-btn" class="predict-btn">🚀 开始预测</button>
                            <button id="ssq-clear-conditions-btn" class="clear-btn">🗑️ 清空条件</button>
                        </div>

                        <!-- 预测结果显示区域 -->
                        <div id="ssq-prediction-results" class="prediction-results" style="display: none;">
                            <!-- 预测结果将在这里动态生成 -->
                        </div>
                    </div>
                </div>
            </div>
            <div id="dlt-panel" class="panel">
                <div class="sub-nav">
                    <button class="sub-nav-item active" data-content="dlt-history">往期开奖</button>
                    <button class="sub-nav-item" data-content="dlt-trend">走势图</button>
                    <button class="sub-nav-item" data-content="dlt-expert">专家和值预测</button>
                    <button class="sub-nav-item" data-content="dlt-combination">组合预测</button>
                    <button class="sub-nav-item" data-content="dlt-batch-prediction">组合批量预测</button>
                    <button class="sub-nav-item" onclick="openPatternAnalysis()" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">🎯 规律分析</button>
                </div>
                <div class="panel-container">
                    <div id="dlt-history" class="panel-content active">
                        <div class="content-header">
                            <h2>往期开奖</h2>
                            <div class="header-actions">
                                <button class="refresh-btn">刷新数据</button>
                            </div>
                        </div>
                        <div class="content-body">
                            <div class="lottery-history">
                                <table class="lottery-table">
                                    <thead>
                                        <tr>
                                            <th>期号</th>
                                            <th>开奖日期</th>
                                            <th>开奖号码</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                                <div class="pagination">
                                    <button class="prev-page">上一页</button>
                                    <span class="page-info">第 1 页</span>
                                    <button class="next-page">下一页</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="dlt-trend" class="panel-content">
                        <div class="content-header">
                            <h2>大乐透走势图</h2>
                            <div class="trend-controls">
                                <div class="period-selector">
                                    <button class="period-btn active" data-periods="30">最近30期</button>
                                    <button class="period-btn" data-periods="50">最近50期</button>
                                    <button class="period-btn" data-periods="100">最近100期</button>
                                </div>
                                <div class="zoom-controls">
                                    <label>缩放:</label>
                                    <button class="zoom-btn" data-zoom="0.5">50%</button>
                                    <button class="zoom-btn" data-zoom="0.75">75%</button>
                                    <button class="zoom-btn active" data-zoom="1.0">100%</button>
                                    <button class="zoom-btn" data-zoom="1.25">125%</button>
                                    <button class="zoom-btn" data-zoom="1.5">150%</button>
                                </div>
                                <div class="custom-range-selector">
                                    <input type="text" id="dlt-startIssue" placeholder="起始期号" maxlength="7">
                                    <span>至</span>
                                    <input type="text" id="dlt-endIssue" placeholder="结束期号" maxlength="7">
                                    <button class="custom-range-btn">查询</button>
                                    <button class="co-occurrence-btn">同出数据</button>
                                    <button class="conflict-data-btn">相克数据</button>
                                </div>
                            </div>
                        </div>
                        <div class="content-body">
                            <div class="trend-zoom-wrapper">
                                <div class="trend-table-container">
                                    <table class="trend-table">
                                    <thead>
                                        <tr class="header-row">
                                            <th rowspan="2" class="fixed-col">期号</th>
                                            <th rowspan="2" class="fixed-col">日期</th>
                                            <th colspan="11" class="zone-header">一区(1-11)</th>
                                            <th colspan="11" class="zone-header red-zone-two">二区(12-22)</th>
                                            <th colspan="13" class="zone-header">三区(23-35)</th>
                                            <th colspan="12" class="zone-header blue-zone">后区(1-12)</th>
                                        </tr>
                                        <tr class="number-row">
                                            <!-- 一区号码 1-11 -->
                                            <th>1</th><th>2</th><th>3</th><th>4</th><th>5</th>
                                            <th>6</th><th>7</th><th>8</th><th>9</th><th>10</th><th>11</th>
                                            <!-- 二区号码 12-22 -->
                                            <th>12</th><th>13</th><th>14</th><th>15</th><th>16</th>
                                            <th>17</th><th>18</th><th>19</th><th>20</th><th>21</th><th>22</th>
                                            <!-- 三区号码 23-35 -->
                                            <th>23</th><th>24</th><th>25</th><th>26</th><th>27</th>
                                            <th>28</th><th>29</th><th>30</th><th>31</th><th>32</th>
                                            <th>33</th><th>34</th><th>35</th>
                                            <!-- 后区号码 1-12 -->
                                            <th>1</th><th>2</th><th>3</th><th>4</th><th>5</th><th>6</th><th>7</th><th>8</th><th>9</th><th>10</th><th>11</th><th>12</th>
                                        </tr>
                                    </thead>
                                    <tbody id="dlt-trendTableBody">
                                        <!-- 数据行将通过JavaScript动态生成 -->
                                    </tbody>
                                    <tfoot id="dltPreSelectRows">
                                        <tr class="pre-select-row" data-row="1">
                                            <td class="fixed-col">预选1</td>
                                            <td class="fixed-col">-</td>
                                            <!-- 前区1-35 -->
                                            <td class="selectable-cell front-cell" data-number="1" title="点击选择前区号码 01">
                                                <div class="cell-content">01</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="2" title="点击选择前区号码 02">
                                                <div class="cell-content">02</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="3" title="点击选择前区号码 03">
                                                <div class="cell-content">03</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="4" title="点击选择前区号码 04">
                                                <div class="cell-content">04</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="5" title="点击选择前区号码 05">
                                                <div class="cell-content">05</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="6" title="点击选择前区号码 06">
                                                <div class="cell-content">06</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="7" title="点击选择前区号码 07">
                                                <div class="cell-content">07</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="8" title="点击选择前区号码 08">
                                                <div class="cell-content">08</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="9" title="点击选择前区号码 09">
                                                <div class="cell-content">09</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="10" title="点击选择前区号码 10">
                                                <div class="cell-content">10</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="11" title="点击选择前区号码 11">
                                                <div class="cell-content">11</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="12" title="点击选择前区号码 12">
                                                <div class="cell-content">12</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="13" title="点击选择前区号码 13">
                                                <div class="cell-content">13</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="14" title="点击选择前区号码 14">
                                                <div class="cell-content">14</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="15" title="点击选择前区号码 15">
                                                <div class="cell-content">15</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="16" title="点击选择前区号码 16">
                                                <div class="cell-content">16</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="17" title="点击选择前区号码 17">
                                                <div class="cell-content">17</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="18" title="点击选择前区号码 18">
                                                <div class="cell-content">18</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="19" title="点击选择前区号码 19">
                                                <div class="cell-content">19</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="20" title="点击选择前区号码 20">
                                                <div class="cell-content">20</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="21" title="点击选择前区号码 21">
                                                <div class="cell-content">21</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="22" title="点击选择前区号码 22">
                                                <div class="cell-content">22</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="23" title="点击选择前区号码 23">
                                                <div class="cell-content">23</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="24" title="点击选择前区号码 24">
                                                <div class="cell-content">24</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="25" title="点击选择前区号码 25">
                                                <div class="cell-content">25</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="26" title="点击选择前区号码 26">
                                                <div class="cell-content">26</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="27" title="点击选择前区号码 27">
                                                <div class="cell-content">27</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="28" title="点击选择前区号码 28">
                                                <div class="cell-content">28</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="29" title="点击选择前区号码 29">
                                                <div class="cell-content">29</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="30" title="点击选择前区号码 30">
                                                <div class="cell-content">30</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="31" title="点击选择前区号码 31">
                                                <div class="cell-content">31</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="32" title="点击选择前区号码 32">
                                                <div class="cell-content">32</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="33" title="点击选择前区号码 33">
                                                <div class="cell-content">33</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="34" title="点击选择前区号码 34">
                                                <div class="cell-content">34</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="35" title="点击选择前区号码 35">
                                                <div class="cell-content">35</div>
                                            </td>
                                            <!-- 后区1-12 -->
                                            <td class="selectable-cell back-cell blue-section-start" data-number="1" title="点击选择后区号码 01">
                                                <div class="cell-content">01</div>
                                            </td>
                                            <td class="selectable-cell back-cell" data-number="2" title="点击选择后区号码 02">
                                                <div class="cell-content">02</div>
                                            </td>
                                            <td class="selectable-cell back-cell" data-number="3" title="点击选择后区号码 03">
                                                <div class="cell-content">03</div>
                                            </td>
                                            <td class="selectable-cell back-cell" data-number="4" title="点击选择后区号码 04">
                                                <div class="cell-content">04</div>
                                            </td>
                                            <td class="selectable-cell back-cell" data-number="5" title="点击选择后区号码 05">
                                                <div class="cell-content">05</div>
                                            </td>
                                            <td class="selectable-cell back-cell" data-number="6" title="点击选择后区号码 06">
                                                <div class="cell-content">06</div>
                                            </td>
                                            <td class="selectable-cell back-cell" data-number="7" title="点击选择后区号码 07">
                                                <div class="cell-content">07</div>
                                            </td>
                                            <td class="selectable-cell back-cell" data-number="8" title="点击选择后区号码 08">
                                                <div class="cell-content">08</div>
                                            </td>
                                            <td class="selectable-cell back-cell" data-number="9" title="点击选择后区号码 09">
                                                <div class="cell-content">09</div>
                                            </td>
                                            <td class="selectable-cell back-cell" data-number="10" title="点击选择后区号码 10">
                                                <div class="cell-content">10</div>
                                            </td>
                                            <td class="selectable-cell back-cell" data-number="11" title="点击选择后区号码 11">
                                                <div class="cell-content">11</div>
                                            </td>
                                            <td class="selectable-cell back-cell" data-number="12" title="点击选择后区号码 12">
                                                <div class="cell-content">12</div>
                                            </td>
                                        </tr>
                                        <tr class="pre-select-row" data-row="2">
                                            <td class="fixed-col">预选2</td>
                                            <td class="fixed-col">-</td>
                                            <!-- 前区1-35 -->
                                            <td class="selectable-cell front-cell" data-number="1" title="点击选择前区号码 01">
                                                <div class="cell-content">01</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="2" title="点击选择前区号码 02">
                                                <div class="cell-content">02</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="3" title="点击选择前区号码 03">
                                                <div class="cell-content">03</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="4" title="点击选择前区号码 04">
                                                <div class="cell-content">04</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="5" title="点击选择前区号码 05">
                                                <div class="cell-content">05</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="6" title="点击选择前区号码 06">
                                                <div class="cell-content">06</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="7" title="点击选择前区号码 07">
                                                <div class="cell-content">07</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="8" title="点击选择前区号码 08">
                                                <div class="cell-content">08</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="9" title="点击选择前区号码 09">
                                                <div class="cell-content">09</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="10" title="点击选择前区号码 10">
                                                <div class="cell-content">10</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="11" title="点击选择前区号码 11">
                                                <div class="cell-content">11</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="12" title="点击选择前区号码 12">
                                                <div class="cell-content">12</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="13" title="点击选择前区号码 13">
                                                <div class="cell-content">13</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="14" title="点击选择前区号码 14">
                                                <div class="cell-content">14</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="15" title="点击选择前区号码 15">
                                                <div class="cell-content">15</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="16" title="点击选择前区号码 16">
                                                <div class="cell-content">16</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="17" title="点击选择前区号码 17">
                                                <div class="cell-content">17</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="18" title="点击选择前区号码 18">
                                                <div class="cell-content">18</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="19" title="点击选择前区号码 19">
                                                <div class="cell-content">19</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="20" title="点击选择前区号码 20">
                                                <div class="cell-content">20</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="21" title="点击选择前区号码 21">
                                                <div class="cell-content">21</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="22" title="点击选择前区号码 22">
                                                <div class="cell-content">22</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="23" title="点击选择前区号码 23">
                                                <div class="cell-content">23</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="24" title="点击选择前区号码 24">
                                                <div class="cell-content">24</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="25" title="点击选择前区号码 25">
                                                <div class="cell-content">25</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="26" title="点击选择前区号码 26">
                                                <div class="cell-content">26</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="27" title="点击选择前区号码 27">
                                                <div class="cell-content">27</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="28" title="点击选择前区号码 28">
                                                <div class="cell-content">28</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="29" title="点击选择前区号码 29">
                                                <div class="cell-content">29</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="30" title="点击选择前区号码 30">
                                                <div class="cell-content">30</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="31" title="点击选择前区号码 31">
                                                <div class="cell-content">31</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="32" title="点击选择前区号码 32">
                                                <div class="cell-content">32</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="33" title="点击选择前区号码 33">
                                                <div class="cell-content">33</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="34" title="点击选择前区号码 34">
                                                <div class="cell-content">34</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="35" title="点击选择前区号码 35">
                                                <div class="cell-content">35</div>
                                            </td>
                                            <!-- 后区1-12 -->
                                            <td class="selectable-cell back-cell blue-section-start" data-number="1" title="点击选择后区号码 01">
                                                <div class="cell-content">01</div>
                                            </td>
                                            <td class="selectable-cell back-cell" data-number="2" title="点击选择后区号码 02">
                                                <div class="cell-content">02</div>
                                            </td>
                                            <td class="selectable-cell back-cell" data-number="3" title="点击选择后区号码 03">
                                                <div class="cell-content">03</div>
                                            </td>
                                            <td class="selectable-cell back-cell" data-number="4" title="点击选择后区号码 04">
                                                <div class="cell-content">04</div>
                                            </td>
                                            <td class="selectable-cell back-cell" data-number="5" title="点击选择后区号码 05">
                                                <div class="cell-content">05</div>
                                            </td>
                                            <td class="selectable-cell back-cell" data-number="6" title="点击选择后区号码 06">
                                                <div class="cell-content">06</div>
                                            </td>
                                            <td class="selectable-cell back-cell" data-number="7" title="点击选择后区号码 07">
                                                <div class="cell-content">07</div>
                                            </td>
                                            <td class="selectable-cell back-cell" data-number="8" title="点击选择后区号码 08">
                                                <div class="cell-content">08</div>
                                            </td>
                                            <td class="selectable-cell back-cell" data-number="9" title="点击选择后区号码 09">
                                                <div class="cell-content">09</div>
                                            </td>
                                            <td class="selectable-cell back-cell" data-number="10" title="点击选择后区号码 10">
                                                <div class="cell-content">10</div>
                                            </td>
                                            <td class="selectable-cell back-cell" data-number="11" title="点击选择后区号码 11">
                                                <div class="cell-content">11</div>
                                            </td>
                                            <td class="selectable-cell back-cell" data-number="12" title="点击选择后区号码 12">
                                                <div class="cell-content">12</div>
                                            </td>
                                        </tr>
                                        <tr class="pre-select-row" data-row="3">
                                            <td class="fixed-col">预选3</td>
                                            <td class="fixed-col">-</td>
                                            <!-- 前区1-35 -->
                                            <td class="selectable-cell front-cell" data-number="1" title="点击选择前区号码 01">
                                                <div class="cell-content">01</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="2" title="点击选择前区号码 02">
                                                <div class="cell-content">02</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="3" title="点击选择前区号码 03">
                                                <div class="cell-content">03</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="4" title="点击选择前区号码 04">
                                                <div class="cell-content">04</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="5" title="点击选择前区号码 05">
                                                <div class="cell-content">05</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="6" title="点击选择前区号码 06">
                                                <div class="cell-content">06</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="7" title="点击选择前区号码 07">
                                                <div class="cell-content">07</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="8" title="点击选择前区号码 08">
                                                <div class="cell-content">08</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="9" title="点击选择前区号码 09">
                                                <div class="cell-content">09</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="10" title="点击选择前区号码 10">
                                                <div class="cell-content">10</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="11" title="点击选择前区号码 11">
                                                <div class="cell-content">11</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="12" title="点击选择前区号码 12">
                                                <div class="cell-content">12</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="13" title="点击选择前区号码 13">
                                                <div class="cell-content">13</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="14" title="点击选择前区号码 14">
                                                <div class="cell-content">14</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="15" title="点击选择前区号码 15">
                                                <div class="cell-content">15</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="16" title="点击选择前区号码 16">
                                                <div class="cell-content">16</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="17" title="点击选择前区号码 17">
                                                <div class="cell-content">17</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="18" title="点击选择前区号码 18">
                                                <div class="cell-content">18</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="19" title="点击选择前区号码 19">
                                                <div class="cell-content">19</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="20" title="点击选择前区号码 20">
                                                <div class="cell-content">20</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="21" title="点击选择前区号码 21">
                                                <div class="cell-content">21</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="22" title="点击选择前区号码 22">
                                                <div class="cell-content">22</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="23" title="点击选择前区号码 23">
                                                <div class="cell-content">23</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="24" title="点击选择前区号码 24">
                                                <div class="cell-content">24</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="25" title="点击选择前区号码 25">
                                                <div class="cell-content">25</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="26" title="点击选择前区号码 26">
                                                <div class="cell-content">26</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="27" title="点击选择前区号码 27">
                                                <div class="cell-content">27</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="28" title="点击选择前区号码 28">
                                                <div class="cell-content">28</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="29" title="点击选择前区号码 29">
                                                <div class="cell-content">29</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="30" title="点击选择前区号码 30">
                                                <div class="cell-content">30</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="31" title="点击选择前区号码 31">
                                                <div class="cell-content">31</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="32" title="点击选择前区号码 32">
                                                <div class="cell-content">32</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="33" title="点击选择前区号码 33">
                                                <div class="cell-content">33</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="34" title="点击选择前区号码 34">
                                                <div class="cell-content">34</div>
                                            </td>
                                            <td class="selectable-cell front-cell" data-number="35" title="点击选择前区号码 35">
                                                <div class="cell-content">35</div>
                                            </td>
                                            <!-- 后区1-12 -->
                                            <td class="selectable-cell back-cell blue-section-start" data-number="1" title="点击选择后区号码 01">
                                                <div class="cell-content">01</div>
                                            </td>
                                            <td class="selectable-cell back-cell" data-number="2" title="点击选择后区号码 02">
                                                <div class="cell-content">02</div>
                                            </td>
                                            <td class="selectable-cell back-cell" data-number="3" title="点击选择后区号码 03">
                                                <div class="cell-content">03</div>
                                            </td>
                                            <td class="selectable-cell back-cell" data-number="4" title="点击选择后区号码 04">
                                                <div class="cell-content">04</div>
                                            </td>
                                            <td class="selectable-cell back-cell" data-number="5" title="点击选择后区号码 05">
                                                <div class="cell-content">05</div>
                                            </td>
                                            <td class="selectable-cell back-cell" data-number="6" title="点击选择后区号码 06">
                                                <div class="cell-content">06</div>
                                            </td>
                                            <td class="selectable-cell back-cell" data-number="7" title="点击选择后区号码 07">
                                                <div class="cell-content">07</div>
                                            </td>
                                            <td class="selectable-cell back-cell" data-number="8" title="点击选择后区号码 08">
                                                <div class="cell-content">08</div>
                                            </td>
                                            <td class="selectable-cell back-cell" data-number="9" title="点击选择后区号码 09">
                                                <div class="cell-content">09</div>
                                            </td>
                                            <td class="selectable-cell back-cell" data-number="10" title="点击选择后区号码 10">
                                                <div class="cell-content">10</div>
                                            </td>
                                            <td class="selectable-cell back-cell" data-number="11" title="点击选择后区号码 11">
                                                <div class="cell-content">11</div>
                                            </td>
                                            <td class="selectable-cell back-cell" data-number="12" title="点击选择后区号码 12">
                                                <div class="cell-content">12</div>
                                            </td>
                                        </tr>
                                    </tfoot>
                                </table>
                            </div>
                            </div>
                        </div>
                    </div>
                    <div id="dlt-expert" class="panel-content">
                        <div class="content-header">
                            <h2>专家和值预测</h2>
                            <div class="header-actions">
                                <div class="control-section">
                                    <div class="control-group">
                                        <label>分组期数:</label>
                                        <div class="button-group">
                                            <button class="period-group-btn active" data-periods="30">每30期</button>
                                            <button class="period-group-btn" data-periods="50">每50期</button>
                                            <button class="period-group-btn" data-periods="100">每100期</button>
                                            <input type="number" id="dlt-custom-group" placeholder="自定义" min="10" max="500" class="custom-input">
                                            <span class="input-suffix">期</span>
                                        </div>
                                    </div>
                                    <div class="control-group">
                                        <label>MA周期:</label>
                                        <div class="button-group">
                                            <button class="period-group-btn ma-period-btn" data-ma="5">MA5</button>
                                            <button class="period-group-btn ma-period-btn" data-ma="10">MA10</button>
                                            <button class="period-group-btn ma-period-btn active" data-ma="20">MA20</button>
                                            <button class="period-group-btn ma-period-btn" data-ma="30">MA30</button>
                                            <input type="number" id="dlt-custom-ma" placeholder="自定义" min="5" max="100" class="custom-input">
                                            <span class="input-suffix">期</span>
                                        </div>
                                    </div>
                                    
                                    <div class="control-group">
                                        <label>分析期数开始:</label>
                                        <div class="button-group">
                                            <button class="analysis-start-btn active" data-start="100">最近第100期</button>
                                            <button class="analysis-start-btn" data-start="200">最近第200期</button>
                                            <button class="analysis-start-btn" data-start="300">最近第300期</button>
                                            <button class="analysis-start-btn" data-start="500">最近第500期</button>
                                            <button class="analysis-start-btn" data-start="all">从最开始</button>
                                        </div>
                                        <div class="custom-range-group">
                                            <input type="text" id="dlt-start-issue" placeholder="起始期号" maxlength="5" class="issue-input">
                                            <span>至</span>
                                            <input type="text" id="dlt-end-issue" placeholder="结束期号" maxlength="5" class="issue-input">
                                            <button class="apply-range-btn" id="dlt-apply-range">应用</button>
                                        </div>
                                    </div>
                                    
                                    <div class="control-group">
                                        <label>验证期数:</label>
                                        <div class="button-group">
                                            <button class="validation-period-btn active" data-test-periods="200">200期</button>
                                            <button class="validation-period-btn" data-test-periods="300">300期</button>
                                            <button class="validation-period-btn" data-test-periods="500">500期</button>
                                            <button class="validation-period-btn" data-test-periods="1000">1000期</button>
                                            <input type="number" id="dlt-custom-validation" placeholder="自定义" min="100" max="2000" class="custom-input">
                                            <span class="input-suffix">期</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <button class="refresh-btn" id="dlt-sum-predict-btn">生成预测</button>
                                <button class="refresh-btn technical-btn" id="dlt-technical-analysis-btn">技术分析</button>
                            </div>
                        </div>
                        <div class="content-body" id="dlt-sum-content">
                            <div class="dlt-sum-placeholder">
                                <h3>大乐透专家和值预测</h3>
                                <p>选择分组期数和分析期数，点击"生成预测"开始分析</p>
                                <p>点击"生成预测"将同时显示预测结果和历史准确率验证</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 组合预测面板 -->
                    <div id="dlt-combination" class="panel-content">
                        <div class="content-header">
                            <h2>大乐透组合预测 (新版)</h2>
                        </div>

                        <!-- 数据生成管理区域 -->
                        <div class="data-generation-panel" style="background: #f8f9fa; border: 1px solid #e9ecef; border-radius: 8px; padding: 15px; margin-bottom: 20px;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                                <h4 style="margin: 0; color: #495057;">📊 数据生成管理</h4>
                                <button id="refresh-progress" class="btn-secondary" style="padding: 5px 10px; font-size: 12px;">刷新状态</button>
                            </div>
                            
                            <div id="generation-status" style="display: flex; align-items: center; gap: 15px; margin-bottom: 15px;">
                                <div id="progress-info" style="font-size: 14px; color: #666;">
                                    加载中...
                                </div>
                                <div id="progress-bar-container" style="flex: 1; height: 6px; background: #e9ecef; border-radius: 3px; overflow: hidden;">
                                    <div id="progress-bar" style="height: 100%; background: linear-gradient(90deg, #007bff, #28a745); width: 0%; transition: width 0.3s ease;"></div>
                                </div>
                            </div>
                            
                            <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                                <button id="generate-200-periods" class="btn-primary" style="flex: 1; min-width: 180px;">
                                    🚀 生成最近200期数据
                                </button>
                                <button id="generate-100-periods" class="btn-secondary" style="flex: 1; min-width: 180px;">
                                    ⚡ 生成最近100期数据
                                </button>
                                <button id="view-generated-periods" class="btn-info" style="flex: 1; min-width: 150px;">
                                    📋 查看已生成期号
                                </button>
                            </div>
                            
                            <div id="generation-log" style="margin-top: 15px; padding: 10px; background: #fff; border: 1px solid #dee2e6; border-radius: 4px; max-height: 100px; overflow-y: auto; font-family: monospace; font-size: 12px; color: #6c757d; display: none;">
                                <!-- 生成日志显示区域 -->
                            </div>
                        </div>

                        <!-- 筛选条件配置 -->
                        <div class="new-filter-configuration">
                            <div class="filter-sections">
                                
                                <!-- 基础设置 -->
                                <div class="filter-section" id="basic-settings">
                                    <h3>📋 基础设置</h3>
                                    <div class="filter-grid">
                                        <div class="filter-item">
                                            <label>目标期号:</label>
                                            <select id="new-target-issue" class="filter-input">
                                                <option value="">选择期号</option>
                                            </select>
                                        </div>
                                        <div class="filter-item">
                                            <label>基准期号:</label>
                                            <select id="new-base-issue" class="filter-input">
                                                <option value="">选择基准期号</option>
                                            </select>
                                        </div>
                                        <div class="filter-item">
                                            <label>期号管理:</label>
                                            <button onclick="window.loadLatestIssues()" class="filter-input" style="background: #007bff; color: white; border: none; cursor: pointer;">
                                                🔄 刷新期号
                                            </button>
                                        </div>
                                    </div>
                                </div>

                                <!-- 红球筛选 -->
                                <div class="filter-section" id="red-ball-filters">
                                    <h3>🔴 红球筛选条件</h3>
                                    <div class="filter-grid">
                                        <div class="filter-item range-item full-width">
                                            <label>排除和值范围 (可同时排除多个范围):</label>
                                            <div class="multi-range-container">
                                                <div class="range-group">
                                                    <label class="range-checkbox-wrapper">
                                                        <input type="checkbox" id="new-sum-range-1-enabled" class="range-checkbox">
                                                        <span class="range-label">范围1:</span>
                                                    </label>
                                                    <div class="range-inputs">
                                                        <input type="number" id="new-sum-range-1-min" min="15" max="175" value="15" class="range-input" disabled>
                                                        <span>-</span>
                                                        <input type="number" id="new-sum-range-1-max" min="15" max="175" value="175" class="range-input" disabled>
                                                    </div>
                                                </div>
                                                <div class="range-group">
                                                    <label class="range-checkbox-wrapper">
                                                        <input type="checkbox" id="new-sum-range-2-enabled" class="range-checkbox">
                                                        <span class="range-label">范围2:</span>
                                                    </label>
                                                    <div class="range-inputs">
                                                        <input type="number" id="new-sum-range-2-min" min="15" max="175" value="" placeholder="最小值" class="range-input" disabled>
                                                        <span>-</span>
                                                        <input type="number" id="new-sum-range-2-max" min="15" max="175" value="" placeholder="最大值" class="range-input" disabled>
                                                    </div>
                                                </div>
                                                <div class="range-group">
                                                    <label class="range-checkbox-wrapper">
                                                        <input type="checkbox" id="new-sum-range-3-enabled" class="range-checkbox">
                                                        <span class="range-label">范围3:</span>
                                                    </label>
                                                    <div class="range-inputs">
                                                        <input type="number" id="new-sum-range-3-min" min="15" max="175" value="" placeholder="最小值" class="range-input" disabled>
                                                        <span>-</span>
                                                        <input type="number" id="new-sum-range-3-max" min="15" max="175" value="" placeholder="最大值" class="range-input" disabled>
                                                    </div>
                                                </div>
                                            </div>
                                            <small class="range-note">💡 勾选启用相应范围，可同时排除1-3个不同的和值范围</small>
                                            
                                            <div class="exclude-recent-section">
                                                <div class="exclude-option">
                                                    <label class="exclude-checkbox-wrapper">
                                                        <input type="checkbox" id="new-sum-exclude-recent-enabled" class="exclude-checkbox">
                                                        <span class="exclude-label">🚫 排除最近</span>
                                                    </label>
                                                    <input type="number" id="new-sum-exclude-recent-periods" min="1" max="100" value="10" placeholder="期数" class="exclude-input" disabled title="请先勾选左侧复选框后才能输入">
                                                    <span class="exclude-suffix">期的和值</span>
                                                </div>
                                                <small class="exclude-note">💡 <strong>使用说明：</strong>先勾选上方复选框，输入框才能编辑，用于排除最近指定期数中出现过的所有和值</small>
                                            </div>
                                        </div>
                                        <div class="filter-item range-item">
                                            <label>排除跨度范围 (可同时排除多个范围):</label>
                                            <div class="multi-range-container">
                                                <div class="range-group">
                                                    <label class="range-checkbox-wrapper">
                                                        <input type="checkbox" id="new-span-range-1-enabled" class="range-checkbox">
                                                        <span class="range-label">范围1:</span>
                                                    </label>
                                                    <div class="range-inputs">
                                                        <input type="number" id="new-span-range-1-min" min="4" max="34" value="4" class="range-input" disabled>
                                                        <span>-</span>
                                                        <input type="number" id="new-span-range-1-max" min="4" max="34" value="34" class="range-input" disabled>
                                                    </div>
                                                </div>
                                                <div class="range-group">
                                                    <label class="range-checkbox-wrapper">
                                                        <input type="checkbox" id="new-span-range-2-enabled" class="range-checkbox">
                                                        <span class="range-label">范围2:</span>
                                                    </label>
                                                    <div class="range-inputs">
                                                        <input type="number" id="new-span-range-2-min" min="4" max="34" value="" placeholder="最小值" class="range-input" disabled>
                                                        <span>-</span>
                                                        <input type="number" id="new-span-range-2-max" min="4" max="34" value="" placeholder="最大值" class="range-input" disabled>
                                                    </div>
                                                </div>
                                                <div class="range-group">
                                                    <label class="range-checkbox-wrapper">
                                                        <input type="checkbox" id="new-span-range-3-enabled" class="range-checkbox">
                                                        <span class="range-label">范围3:</span>
                                                    </label>
                                                    <div class="range-inputs">
                                                        <input type="number" id="new-span-range-3-min" min="4" max="34" value="" placeholder="最小值" class="range-input" disabled>
                                                        <span>-</span>
                                                        <input type="number" id="new-span-range-3-max" min="4" max="34" value="" placeholder="最大值" class="range-input" disabled>
                                                    </div>
                                                </div>
                                                <small class="exclude-note">💡 <strong>使用说明：</strong>先勾选上方复选框，输入框才能编辑，跨度范围4-34</small>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="filter-grid">
                                        <div class="filter-item full-width">
                                            <label>排除区间比 (一区01-12:二区13-24:三区25-35):</label>
                                            <div class="checkbox-group multi-line">
                                                <label><input type="checkbox" value="5:0:0" class="zone-ratio-cb"> 5:0:0</label>
                                                <label><input type="checkbox" value="4:1:0" class="zone-ratio-cb"> 4:1:0</label>
                                                <label><input type="checkbox" value="4:0:1" class="zone-ratio-cb"> 4:0:1</label>
                                                <label><input type="checkbox" value="3:2:0" class="zone-ratio-cb"> 3:2:0</label>
                                                <label><input type="checkbox" value="3:1:1" class="zone-ratio-cb"> 3:1:1</label>
                                                <label><input type="checkbox" value="3:0:2" class="zone-ratio-cb"> 3:0:2</label>
                                                <label><input type="checkbox" value="2:3:0" class="zone-ratio-cb"> 2:3:0</label>
                                                <label><input type="checkbox" value="2:2:1" class="zone-ratio-cb"> 2:2:1</label>
                                                <label><input type="checkbox" value="2:1:2" class="zone-ratio-cb"> 2:1:2</label>
                                                <label><input type="checkbox" value="2:0:3" class="zone-ratio-cb"> 2:0:3</label>
                                                <label><input type="checkbox" value="1:4:0" class="zone-ratio-cb"> 1:4:0</label>
                                                <label><input type="checkbox" value="1:3:1" class="zone-ratio-cb"> 1:3:1</label>
                                                <label><input type="checkbox" value="1:2:2" class="zone-ratio-cb"> 1:2:2</label>
                                                <label><input type="checkbox" value="1:1:3" class="zone-ratio-cb"> 1:1:3</label>
                                                <label><input type="checkbox" value="1:0:4" class="zone-ratio-cb"> 1:0:4</label>
                                                <label><input type="checkbox" value="0:5:0" class="zone-ratio-cb"> 0:5:0</label>
                                                <label><input type="checkbox" value="0:4:1" class="zone-ratio-cb"> 0:4:1</label>
                                                <label><input type="checkbox" value="0:3:2" class="zone-ratio-cb"> 0:3:2</label>
                                                <label><input type="checkbox" value="0:2:3" class="zone-ratio-cb"> 0:2:3</label>
                                                <label><input type="checkbox" value="0:1:4" class="zone-ratio-cb"> 0:1:4</label>
                                                <label><input type="checkbox" value="0:0:5" class="zone-ratio-cb"> 0:0:5</label>
                                            </div>
                                            <div class="exclude-recent-section">
                                                <div class="exclude-option">
                                                    <label class="exclude-checkbox-wrapper">
                                                        <input type="checkbox" id="new-zone-exclude-recent-enabled" class="exclude-checkbox">
                                                        <span class="exclude-label">🚫 排除最近</span>
                                                    </label>
                                                    <input type="number" id="new-zone-exclude-recent-periods" min="1" max="100" value="10" placeholder="期数" class="exclude-input" disabled title="请先勾选左侧复选框后才能输入">
                                                    <span class="exclude-suffix">期的区间比</span>
                                                </div>
                                                <small class="exclude-note">💡 <strong>使用说明：</strong>先勾选上方复选框，输入框才能编辑，用于排除最近指定期数中出现过的所有区间比</small>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="filter-grid">
                                        <div class="filter-item">
                                            <label>排除奇偶比:</label>
                                            <div class="checkbox-group">
                                                <label><input type="checkbox" value="5:0" class="odd-even-cb"> 5:0</label>
                                                <label><input type="checkbox" value="4:1" class="odd-even-cb"> 4:1</label>
                                                <label><input type="checkbox" value="3:2" class="odd-even-cb"> 3:2</label>
                                                <label><input type="checkbox" value="2:3" class="odd-even-cb"> 2:3</label>
                                                <label><input type="checkbox" value="1:4" class="odd-even-cb"> 1:4</label>
                                                <label><input type="checkbox" value="0:5" class="odd-even-cb"> 0:5</label>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- 热温冷筛选 -->
                                <div class="filter-section" id="hot-warm-cold-filters">
                                    <h3>🌡️ 热温冷筛选条件</h3>
                                    <div class="filter-grid">
                                        <div class="filter-item">
                                            <label>排除热温冷比 (热:温:冷):</label>
                                            <div class="checkbox-group multi-line">
                                                <label><input type="checkbox" value="5:0:0" class="hwc-ratio-cb"> 5:0:0</label>
                                                <label><input type="checkbox" value="4:1:0" class="hwc-ratio-cb"> 4:1:0</label>
                                                <label><input type="checkbox" value="4:0:1" class="hwc-ratio-cb"> 4:0:1</label>
                                                <label><input type="checkbox" value="3:2:0" class="hwc-ratio-cb"> 3:2:0</label>
                                                <label><input type="checkbox" value="3:1:1" class="hwc-ratio-cb"> 3:1:1</label>
                                                <label><input type="checkbox" value="3:0:2" class="hwc-ratio-cb"> 3:0:2</label>
                                                <label><input type="checkbox" value="2:3:0" class="hwc-ratio-cb"> 2:3:0</label>
                                                <label><input type="checkbox" value="2:2:1" class="hwc-ratio-cb"> 2:2:1</label>
                                                <label><input type="checkbox" value="2:1:2" class="hwc-ratio-cb"> 2:1:2</label>
                                                <label><input type="checkbox" value="2:0:3" class="hwc-ratio-cb"> 2:0:3</label>
                                                <label><input type="checkbox" value="1:4:0" class="hwc-ratio-cb"> 1:4:0</label>
                                                <label><input type="checkbox" value="1:3:1" class="hwc-ratio-cb"> 1:3:1</label>
                                                <label><input type="checkbox" value="1:2:2" class="hwc-ratio-cb"> 1:2:2</label>
                                                <label><input type="checkbox" value="1:1:3" class="hwc-ratio-cb"> 1:1:3</label>
                                                <label><input type="checkbox" value="1:0:4" class="hwc-ratio-cb"> 1:0:4</label>
                                                <label><input type="checkbox" value="0:5:0" class="hwc-ratio-cb"> 0:5:0</label>
                                                <label><input type="checkbox" value="0:4:1" class="hwc-ratio-cb"> 0:4:1</label>
                                                <label><input type="checkbox" value="0:3:2" class="hwc-ratio-cb"> 0:3:2</label>
                                                <label><input type="checkbox" value="0:2:3" class="hwc-ratio-cb"> 0:2:3</label>
                                                <label><input type="checkbox" value="0:1:4" class="hwc-ratio-cb"> 0:1:4</label>
                                                <label><input type="checkbox" value="0:0:5" class="hwc-ratio-cb"> 0:0:5</label>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="filter-grid">
                                        <div class="filter-item range-item">
                                            <label>热号数量:</label>
                                            <div class="range-inputs">
                                                <input type="number" id="new-hot-min" min="0" max="5" placeholder="最小值" class="range-input">
                                                <span>-</span>
                                                <input type="number" id="new-hot-max" min="0" max="5" placeholder="最大值" class="range-input">
                                            </div>
                                        </div>
                                        <div class="filter-item range-item">
                                            <label>温号数量:</label>
                                            <div class="range-inputs">
                                                <input type="number" id="new-warm-min" min="0" max="5" placeholder="最小值" class="range-input">
                                                <span>-</span>
                                                <input type="number" id="new-warm-max" min="0" max="5" placeholder="最大值" class="range-input">
                                            </div>
                                        </div>
                                        <div class="filter-item range-item">
                                            <label>冷号数量:</label>
                                            <div class="range-inputs">
                                                <input type="number" id="new-cold-min" min="0" max="5" placeholder="最小值" class="range-input">
                                                <span>-</span>
                                                <input type="number" id="new-cold-max" min="0" max="5" placeholder="最大值" class="range-input">
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="filter-grid">
                                        <div class="filter-item full-width">
                                            <div class="exclude-recent-section">
                                                <div class="exclude-option">
                                                    <label class="exclude-checkbox-wrapper">
                                                        <input type="checkbox" id="new-hwc-exclude-recent-enabled" class="exclude-checkbox">
                                                        <span class="exclude-label">🚫 排除最近</span>
                                                    </label>
                                                    <input type="number" id="new-hwc-exclude-recent-periods" min="1" max="100" value="10" placeholder="期数" class="exclude-input" disabled title="请先勾选左侧复选框后才能输入">
                                                    <span class="exclude-suffix">期的热温冷比</span>
                                                </div>
                                                <small class="exclude-note">💡 <strong>使用说明：</strong>先勾选上方复选框，输入框才能编辑，用于排除最近指定期数中出现过的所有热温冷比</small>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- 蓝球筛选 -->
                                <div class="filter-section" id="blue-ball-filters">
                                    <h3>🔵 蓝球筛选条件</h3>
                                    <div class="filter-grid">
                                        <div class="filter-item checkbox-item">
                                            <label class="checkbox-wrapper">
                                                <input type="checkbox" id="enable-blue-combination" checked>
                                                <span class="checkbox-text">分配蓝球组合</span>
                                                <small class="help-text">勾选时为每个红球组合分配蓝球，不勾选则只输出红球组合</small>
                                            </label>
                                        </div>
                                        <div class="filter-item range-item" id="blue-sum-range-container">
                                            <label>蓝球和值:</label>
                                            <div class="range-inputs">
                                                <input type="number" id="new-blue-sum-min" min="3" max="23" value="3" class="range-input">
                                                <span>-</span>
                                                <input type="number" id="new-blue-sum-max" min="3" max="23" value="23" class="range-input">
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- 分页设置 -->
                                <div class="filter-section" id="pagination-settings">
                                    <h3>📄 显示设置</h3>
                                    <div class="filter-grid">
                                        <div class="filter-item">
                                            <label>每页显示:</label>
                                            <select id="new-page-limit" class="filter-input">
                                                <option value="50">50条</option>
                                                <option value="100" selected>100条</option>
                                                <option value="200">200条</option>
                                                <option value="500">500条</option>
                                                <option value="unlimited">不受限制</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- 生成预测按钮 -->
                                <div class="filter-section">
                                    <div class="prediction-action">
                                        <button id="new-dlt-combination-predict-btn" class="prediction-btn primary-btn">
                                            <span>🎯</span>
                                            <span class="btn-text">生成组合预测</span>
                                        </button>
                                        <div class="action-hint">
                                            <small>💡 配置完所有筛选条件后，点击按钮开始生成符合条件的大乐透组合</small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- 结果显示区域 -->
                        <div class="content-body" id="new-dlt-combination-content">
                            <div class="new-combination-placeholder">
                                <div class="placeholder-content">
                                    <h3>🎯 新版大乐透组合预测系统</h3>
                                    <p>🔹 基于预生成的红球和蓝球组合数据</p>
                                    <p>🔹 支持基于实时期号的热温冷分析</p>
                                    <p>🔹 灵活的筛选条件和精准预测</p>
                                    <p>请设置筛选条件后点击"生成组合预测"开始预测</p>
                                </div>
                            </div>
                            <!-- 组合预测结果显示区域 -->
                            <div id="dlt-combination-content"></div>
                        </div>
                    </div>
                    
                    <!-- 组合批量预测面板 -->
                    <div id="dlt-batch-prediction" class="panel-content">
                        <div class="content-header">
                            <h2>🚀 大乐透组合批量预测系统</h2>
                            <p class="header-description">通过多重筛选条件批量预测历史所有期数，并验证预测命中率</p>
                        </div>

                        <!-- 批量预测配置区域 -->
                        <div class="batch-config-section">
                            <!-- 期号范围配置 -->
                            <div class="config-group">
                                <h3>📅 预测期号范围</h3>
                                <div class="range-config">
                                    <div class="range-type">
                                        <label>
                                            <input type="radio" name="batch-range-type" value="all" checked>
                                            <span>全部历史期号 (所有已开奖期号)</span>
                                        </label>
                                        <label>
                                            <input type="radio" name="batch-range-type" value="recent">
                                            <span>最近</span>
                                            <input type="number" id="recent-count" value="100" min="1" max="1000" class="inline-input">
                                            <span>期</span>
                                        </label>
                                        <label>
                                            <input type="radio" name="batch-range-type" value="custom">
                                            <span>自定义范围</span>
                                            <input type="number" id="custom-start" placeholder="起始期号" class="inline-input">
                                            <span>到</span>
                                            <input type="number" id="custom-end" placeholder="结束期号" class="inline-input">
                                        </label>
                                    </div>
                                </div>
                            </div>

                            <!-- 排除条件配置 -->
                            <div class="config-group">
                                <h3>🔧 排除条件配置</h3>
                                
                                <!-- 和值排除 -->
                                <div class="filter-row">
                                    <div class="filter-checkbox">
                                        <label>
                                            <input type="checkbox" id="batch-exclude-sum">
                                            <span>🔢 和值排除</span>
                                        </label>
                                    </div>
                                    <div class="filter-config">
                                        <div class="batch-range-config">
                                            <div class="batch-historical-exclude">
                                                <label class="batch-checkbox-wrapper">
                                                    <input type="checkbox" id="batch-sum-range1-enabled" disabled>
                                                    <span>排除和值范围1:</span>
                                                </label>
                                                <input type="number" id="batch-sum-min1" placeholder="最小值" min="15" max="175" disabled>
                                                <span>-</span>
                                                <input type="number" id="batch-sum-max1" placeholder="最大值" min="15" max="175" disabled>
                                            </div>
                                            <div class="batch-historical-exclude">
                                                <label class="batch-checkbox-wrapper">
                                                    <input type="checkbox" id="batch-sum-range2-enabled" disabled>
                                                    <span>排除和值范围2:</span>
                                                </label>
                                                <input type="number" id="batch-sum-min2" placeholder="最小值" min="15" max="175" disabled>
                                                <span>-</span>
                                                <input type="number" id="batch-sum-max2" placeholder="最大值" min="15" max="175" disabled>
                                            </div>
                                            <div class="batch-historical-exclude">
                                                <label class="batch-checkbox-wrapper">
                                                    <input type="checkbox" id="batch-sum-historical-enabled" disabled>
                                                    <span>排除历史和值:</span>
                                                </label>
                                                <label class="batch-radio-option">
                                                    <input type="radio" name="batch-sum-exclude-type" value="recent" checked disabled>
                                                    <span>最近</span>
                                                    <input type="number" id="batch-sum-recent-custom" placeholder="期数" min="1" max="100" value="10" class="batch-custom-input" disabled>
                                                    <span>期</span>
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- 跨度排除 -->
                                <div class="filter-row">
                                    <div class="filter-checkbox">
                                        <label>
                                            <input type="checkbox" id="batch-exclude-span">
                                            <span>📏 跨度排除</span>
                                        </label>
                                    </div>
                                    <div class="filter-config">
                                        <div class="batch-range-config">
                                            <div class="batch-historical-exclude">
                                                <label class="batch-checkbox-wrapper">
                                                    <input type="checkbox" id="batch-span-range1-enabled" disabled>
                                                    <span>排除跨度范围1:</span>
                                                </label>
                                                <input type="number" id="batch-span-min1" placeholder="最小值" min="4" max="34" disabled>
                                                <span>-</span>
                                                <input type="number" id="batch-span-max1" placeholder="最大值" min="4" max="34" disabled>
                                            </div>
                                            <div class="batch-historical-exclude">
                                                <label class="batch-checkbox-wrapper">
                                                    <input type="checkbox" id="batch-span-range2-enabled" disabled>
                                                    <span>排除跨度范围2:</span>
                                                </label>
                                                <input type="number" id="batch-span-min2" placeholder="最小值" min="4" max="34" disabled>
                                                <span>-</span>
                                                <input type="number" id="batch-span-max2" placeholder="最大值" min="4" max="34" disabled>
                                            </div>
                                            <div class="batch-historical-exclude">
                                                <label class="batch-checkbox-wrapper">
                                                    <input type="checkbox" id="batch-span-historical-enabled" disabled>
                                                    <span>排除历史跨度:</span>
                                                </label>
                                                <label class="batch-radio-option">
                                                    <input type="radio" name="batch-span-exclude-type" value="recent" checked disabled>
                                                    <span>最近</span>
                                                    <input type="number" id="batch-span-recent-custom" placeholder="期数" min="1" max="100" value="10" class="batch-custom-input" disabled>
                                                    <span>期</span>
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- 热温冷比排除 -->
                                <div class="filter-row">
                                    <div class="filter-checkbox">
                                        <label>
                                            <input type="checkbox" id="batch-exclude-hwc">
                                            <span>🌡️ 热温冷比排除</span>
                                        </label>
                                    </div>
                                    <div class="filter-config">
                                        <div class="batch-range-config">
                                            <div class="hwc-ratios-selection">
                                                <div class="ratio-header">
                                                    <span>排除特定热温冷比 (热:温:冷):</span>
                                                    <div class="quick-actions">
                                                        <button type="button" class="quick-btn" onclick="selectBatchHwcGroup('extreme')">极端</button>
                                                        <button type="button" class="quick-btn" onclick="selectBatchHwcGroup('high')">高倾向</button>
                                                        <button type="button" class="quick-btn" onclick="selectBatchHwcGroup('balanced')">平衡</button>
                                                        <button type="button" class="quick-btn" onclick="selectBatchHwcGroup('all')">全选</button>
                                                        <button type="button" class="quick-btn" onclick="selectBatchHwcGroup('none')">清空</button>
                                                    </div>
                                                </div>

                                                <!-- 极端比例 -->
                                                <div class="ratio-group">
                                                    <span class="group-label extreme">极端比例</span>
                                                    <div class="ratio-checkboxes-grid">
                                                        <label><input type="checkbox" value="5:0:0" class="batch-hwc-cb" data-group="extreme" disabled> 5:0:0</label>
                                                        <label><input type="checkbox" value="0:5:0" class="batch-hwc-cb" data-group="extreme" disabled> 0:5:0</label>
                                                        <label><input type="checkbox" value="0:0:5" class="batch-hwc-cb" data-group="extreme" disabled> 0:0:5</label>
                                                    </div>
                                                </div>

                                                <!-- 高倾向比例 -->
                                                <div class="ratio-group">
                                                    <span class="group-label high">高倾向比例</span>
                                                    <div class="ratio-checkboxes-grid">
                                                        <label><input type="checkbox" value="4:1:0" class="batch-hwc-cb" data-group="high" disabled> 4:1:0</label>
                                                        <label><input type="checkbox" value="4:0:1" class="batch-hwc-cb" data-group="high" disabled> 4:0:1</label>
                                                        <label><input type="checkbox" value="1:4:0" class="batch-hwc-cb" data-group="high" disabled> 1:4:0</label>
                                                        <label><input type="checkbox" value="0:4:1" class="batch-hwc-cb" data-group="high" disabled> 0:4:1</label>
                                                        <label><input type="checkbox" value="1:0:4" class="batch-hwc-cb" data-group="high" disabled> 1:0:4</label>
                                                        <label><input type="checkbox" value="0:1:4" class="batch-hwc-cb" data-group="high" disabled> 0:1:4</label>
                                                    </div>
                                                </div>

                                                <!-- 平衡比例 -->
                                                <div class="ratio-group">
                                                    <span class="group-label balanced">平衡比例</span>
                                                    <div class="ratio-checkboxes-grid">
                                                        <label><input type="checkbox" value="3:2:0" class="batch-hwc-cb" data-group="balanced" disabled> 3:2:0</label>
                                                        <label><input type="checkbox" value="3:1:1" class="batch-hwc-cb" data-group="balanced" disabled> 3:1:1</label>
                                                        <label><input type="checkbox" value="3:0:2" class="batch-hwc-cb" data-group="balanced" disabled> 3:0:2</label>
                                                        <label><input type="checkbox" value="2:3:0" class="batch-hwc-cb" data-group="balanced" disabled> 2:3:0</label>
                                                        <label><input type="checkbox" value="2:2:1" class="batch-hwc-cb" data-group="balanced" disabled> 2:2:1</label>
                                                        <label><input type="checkbox" value="2:1:2" class="batch-hwc-cb" data-group="balanced" disabled> 2:1:2</label>
                                                        <label><input type="checkbox" value="2:0:3" class="batch-hwc-cb" data-group="balanced" disabled> 2:0:3</label>
                                                        <label><input type="checkbox" value="1:3:1" class="batch-hwc-cb" data-group="balanced" disabled> 1:3:1</label>
                                                        <label><input type="checkbox" value="1:2:2" class="batch-hwc-cb" data-group="balanced" disabled> 1:2:2</label>
                                                        <label><input type="checkbox" value="1:1:3" class="batch-hwc-cb" data-group="balanced" disabled> 1:1:3</label>
                                                        <label><input type="checkbox" value="0:3:2" class="batch-hwc-cb" data-group="balanced" disabled> 0:3:2</label>
                                                        <label><input type="checkbox" value="0:2:3" class="batch-hwc-cb" data-group="balanced" disabled> 0:2:3</label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="batch-historical-exclude">
                                                <label class="batch-checkbox-wrapper">
                                                    <input type="checkbox" id="batch-hwc-historical-enabled" disabled>
                                                    <span>排除历史热温冷比:</span>
                                                </label>
                                                <label class="batch-radio-option">
                                                    <input type="radio" name="batch-hwc-exclude-type" value="recent" checked disabled>
                                                    <span>最近</span>
                                                    <input type="number" id="batch-hwc-recent-custom" placeholder="期数" min="1" max="100" value="10" class="batch-custom-input" disabled>
                                                    <span>期</span>
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- 区间比排除 -->
                                <div class="filter-row">
                                    <div class="filter-checkbox">
                                        <label>
                                            <input type="checkbox" id="batch-exclude-zone">
                                            <span>🎯 区间比排除</span>
                                        </label>
                                    </div>
                                    <div class="filter-config">
                                        <div class="batch-range-config">
                                            <div class="zone-ratios-selection">
                                                <div class="ratio-header">
                                                    <span>排除特定区间比 (一区1-12:二区13-24:三区25-35):</span>
                                                    <div class="quick-actions">
                                                        <button type="button" class="quick-btn" onclick="selectBatchZoneGroup('extreme')">极端</button>
                                                        <button type="button" class="quick-btn" onclick="selectBatchZoneGroup('high')">高倾向</button>
                                                        <button type="button" class="quick-btn" onclick="selectBatchZoneGroup('balanced')">平衡</button>
                                                        <button type="button" class="quick-btn" onclick="selectBatchZoneGroup('all')">全选</button>
                                                        <button type="button" class="quick-btn" onclick="selectBatchZoneGroup('none')">清空</button>
                                                    </div>
                                                </div>

                                                <!-- 极端比例 -->
                                                <div class="ratio-group">
                                                    <span class="group-label extreme">极端比例</span>
                                                    <div class="ratio-checkboxes-grid">
                                                        <label><input type="checkbox" value="5:0:0" class="batch-zone-cb" data-group="extreme" disabled> 5:0:0</label>
                                                        <label><input type="checkbox" value="0:5:0" class="batch-zone-cb" data-group="extreme" disabled> 0:5:0</label>
                                                        <label><input type="checkbox" value="0:0:5" class="batch-zone-cb" data-group="extreme" disabled> 0:0:5</label>
                                                    </div>
                                                </div>

                                                <!-- 高倾向比例 -->
                                                <div class="ratio-group">
                                                    <span class="group-label high">高倾向比例</span>
                                                    <div class="ratio-checkboxes-grid">
                                                        <label><input type="checkbox" value="4:1:0" class="batch-zone-cb" data-group="high" disabled> 4:1:0</label>
                                                        <label><input type="checkbox" value="4:0:1" class="batch-zone-cb" data-group="high" disabled> 4:0:1</label>
                                                        <label><input type="checkbox" value="1:4:0" class="batch-zone-cb" data-group="high" disabled> 1:4:0</label>
                                                        <label><input type="checkbox" value="0:4:1" class="batch-zone-cb" data-group="high" disabled> 0:4:1</label>
                                                        <label><input type="checkbox" value="1:0:4" class="batch-zone-cb" data-group="high" disabled> 1:0:4</label>
                                                        <label><input type="checkbox" value="0:1:4" class="batch-zone-cb" data-group="high" disabled> 0:1:4</label>
                                                    </div>
                                                </div>

                                                <!-- 平衡比例 -->
                                                <div class="ratio-group">
                                                    <span class="group-label balanced">平衡比例</span>
                                                    <div class="ratio-checkboxes-grid">
                                                        <label><input type="checkbox" value="3:2:0" class="batch-zone-cb" data-group="balanced" disabled> 3:2:0</label>
                                                        <label><input type="checkbox" value="3:1:1" class="batch-zone-cb" data-group="balanced" disabled> 3:1:1</label>
                                                        <label><input type="checkbox" value="3:0:2" class="batch-zone-cb" data-group="balanced" disabled> 3:0:2</label>
                                                        <label><input type="checkbox" value="2:3:0" class="batch-zone-cb" data-group="balanced" disabled> 2:3:0</label>
                                                        <label><input type="checkbox" value="2:2:1" class="batch-zone-cb" data-group="balanced" disabled> 2:2:1</label>
                                                        <label><input type="checkbox" value="2:1:2" class="batch-zone-cb" data-group="balanced" disabled> 2:1:2</label>
                                                        <label><input type="checkbox" value="2:0:3" class="batch-zone-cb" data-group="balanced" disabled> 2:0:3</label>
                                                        <label><input type="checkbox" value="1:3:1" class="batch-zone-cb" data-group="balanced" disabled> 1:3:1</label>
                                                        <label><input type="checkbox" value="1:2:2" class="batch-zone-cb" data-group="balanced" disabled> 1:2:2</label>
                                                        <label><input type="checkbox" value="1:1:3" class="batch-zone-cb" data-group="balanced" disabled> 1:1:3</label>
                                                        <label><input type="checkbox" value="0:3:2" class="batch-zone-cb" data-group="balanced" disabled> 0:3:2</label>
                                                        <label><input type="checkbox" value="0:2:3" class="batch-zone-cb" data-group="balanced" disabled> 0:2:3</label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="batch-historical-exclude">
                                                <label class="batch-checkbox-wrapper">
                                                    <input type="checkbox" id="batch-zone-historical-enabled" disabled>
                                                    <span>排除历史区间比:</span>
                                                </label>
                                                <label class="batch-radio-option">
                                                    <input type="radio" name="batch-zone-exclude-type" value="recent" checked disabled>
                                                    <span>最近</span>
                                                    <input type="number" id="batch-zone-recent-custom" placeholder="期数" min="1" max="100" value="10" class="batch-custom-input" disabled>
                                                    <span>期</span>
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- 奇偶比排除 -->
                                <div class="filter-row">
                                    <div class="filter-checkbox">
                                        <label>
                                            <input type="checkbox" id="batch-exclude-odd-even">
                                            <span>⚖️ 奇偶比排除</span>
                                        </label>
                                    </div>
                                    <div class="filter-config">
                                        <div class="odd-even-selection">
                                            <label><input type="checkbox" value="5:0" class="batch-odd-even-cb" disabled> 5:0</label>
                                            <label><input type="checkbox" value="0:5" class="batch-odd-even-cb" disabled> 0:5</label>
                                            <label><input type="checkbox" value="4:1" class="batch-odd-even-cb" disabled> 4:1</label>
                                            <label><input type="checkbox" value="1:4" class="batch-odd-even-cb" disabled> 1:4</label>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- 组合数量限制 -->
                            <div class="config-group">
                                <h3>⚙️ 输出配置</h3>
                                <div class="output-config">
                                    <div class="config-row">
                                        <label>组合生成模式:</label>
                                        <div class="combination-mode-control">
                                            <label class="mode-option">
                                                <input type="radio" name="combination-mode" value="default" id="mode-default" checked>
                                                <span class="mode-label">
                                                    <strong>默认模式</strong>
                                                    <small>6,600组（100红球×66蓝球）</small>
                                                </span>
                                            </label>
                                            <label class="mode-option">
                                                <input type="radio" name="combination-mode" value="unlimited" id="mode-unlimited">
                                                <span class="mode-label">
                                                    <strong>普通无限制</strong>
                                                    <small>324,632组（324,632红球×66蓝球，1:1分配）</small>
                                                </span>
                                            </label>
                                            <label class="mode-option">
                                                <input type="radio" name="combination-mode" value="truly-unlimited" id="mode-truly-unlimited">
                                                <span class="mode-label">
                                                    <strong>真正无限制</strong>
                                                    <small>21,445,712组（324,632红球×66蓝球，完全组合）</small>
                                                </span>
                                            </label>
                                        </div>
                                        <small>选择合适的组合生成模式，默认模式适合快速预测，无限制模式适合全面分析</small>
                                    </div>
                                    <div class="config-row">
                                        <label>
                                            <input type="checkbox" id="batch-enable-validation" checked>
                                            <span>启用预测结果验证 (分析命中情况)</span>
                                        </label>
                                    </div>
                                    <div class="config-row">
                                        <label>预览显示模式:</label>
                                        <select id="preview-display-mode" style="width: 200px; padding: 5px; margin-left: 10px;">
                                            <option value="comprehensive">🎯 综合评分优先</option>
                                            <option value="hit_priority">📊 命中概率优先</option>
                                            <option value="hot_warm_balance">🔥 热温冷均衡</option>
                                            <option value="recent_avoid">❌ 避开近期重复</option>
                                        </select>
                                        <small>选择真正无限制时，将按此模式智能筛选最有价值的100个组合作为预览</small>
                                    </div>
                                </div>
                            </div>

                            <!-- 操作按钮 -->
                            <div class="batch-actions">
                                <div class="task-name-input-group">
                                    <label>任务名称:</label>
                                    <input type="text" id="task-name-input" placeholder="留空自动生成 (如: 预测任务_2024-01-01)" style="flex: 1; padding: 8px; margin: 0 10px;">
                                </div>
                                <button id="create-prediction-task" class="primary-btn large-btn">
                                    <span>📝</span>
                                    <span>创建预测任务</span>
                                </button>
                                <button id="refresh-tasks" class="secondary-btn">
                                    <span>🔄</span>
                                    <span>刷新任务列表</span>
                                </button>
                            </div>
                        </div>

                        <!-- 进度显示区域 -->
                        <div class="batch-progress-section" id="batch-progress-section" style="display: none;">
                            <div class="progress-header">
                                <h3>📊 预测进度</h3>
                                <div class="progress-stats">
                                    <span id="progress-current">0</span> / <span id="progress-total">0</span>
                                    <span class="progress-percentage" id="progress-percentage">0%</span>
                                </div>
                            </div>
                            <div class="progress-bar-container">
                                <div class="progress-bar" id="batch-progress-bar"></div>
                            </div>
                            <div class="progress-details">
                                <div class="detail-item">
                                    <span class="detail-label">当前处理:</span>
                                    <span id="current-processing">准备中...</span>
                                </div>
                                <div class="detail-item">
                                    <span class="detail-label">预计剩余:</span>
                                    <span id="estimated-remaining">计算中...</span>
                                </div>
                                <div class="detail-item">
                                    <span class="detail-label">处理速度:</span>
                                    <span id="processing-speed">-- 期/分钟</span>
                                </div>
                            </div>
                        </div>

                        <!-- 任务列表区域 -->
                        <div class="task-list-section" id="task-list-section">
                            <div class="section-header">
                                <h3>📂 预测任务列表</h3>
                                <div class="filter-controls">
                                    <select id="task-status-filter" style="padding: 5px 10px; border-radius: 4px;">
                                        <option value="all">全部状态</option>
                                        <option value="completed">已完成</option>
                                        <option value="running">进行中</option>
                                        <option value="pending">等待中</option>
                                        <option value="failed">失败</option>
                                    </select>
                                </div>
                            </div>

                            <!-- 任务卡片容器 -->
                            <div class="task-cards-container" id="task-cards-container">
                                <div class="task-list-placeholder">
                                    <div class="placeholder-content">
                                        <h3>🎯 任务管理中心</h3>
                                        <p>🔹 配置筛选条件后创建预测任务</p>
                                        <p>🔹 任务会在后台自动执行</p>
                                        <p>🔹 可随时查看任务进度和结果</p>
                                        <p>请配置筛选条件并输入任务名称，然后点击"创建预测任务"</p>
                                    </div>
                                </div>
                            </div>

                            <!-- 分页控制 -->
                            <div class="pagination" id="task-pagination" style="display: none;">
                                <button class="page-btn" id="prev-page">上一页</button>
                                <span id="page-info">第 <span id="current-page">1</span> / <span id="total-pages">1</span> 页</span>
                                <button class="page-btn" id="next-page">下一页</button>
                            </div>
                        </div>

                        <!-- 任务详情弹窗 -->
                        <div class="task-detail-modal" id="task-detail-modal" style="display: none;">
                            <div class="modal-overlay" id="modal-overlay"></div>
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h3 id="modal-task-name">任务详情</h3>
                                    <button class="close-btn" id="close-modal">×</button>
                                </div>

                                <div class="modal-body" id="modal-body">
                                    <!-- 任务基本信息 -->
                                    <div class="info-section">
                                        <h4>📋 任务信息</h4>
                                        <div class="info-grid" id="task-info-grid">
                                            <div>任务ID: <span id="modal-task-id">-</span></div>
                                            <div>状态: <span id="modal-task-status">-</span></div>
                                            <div>期号范围: <span id="modal-period-range">-</span></div>
                                            <div>创建时间: <span id="modal-created-at">-</span></div>
                                        </div>
                                    </div>

                                    <!-- 筛选条件回显 -->
                                    <div class="info-section">
                                        <h4>🔧 筛选条件</h4>
                                        <div class="conditions-display" id="modal-conditions">
                                            加载中...
                                        </div>
                                    </div>

                                    <!-- 各期结果汇总表 -->
                                    <div class="info-section">
                                        <h4>📊 各期预测结果</h4>
                                        <div class="results-table-container">
                                            <table class="results-summary-table" id="modal-results-table">
                                                <thead>
                                                    <tr>
                                                        <th>期号</th>
                                                        <th>组合数</th>
                                                        <th>红球最高命中</th>
                                                        <th>蓝球最高命中</th>
                                                        <th>一等奖</th>
                                                        <th>二等奖</th>
                                                        <th>三等奖</th>
                                                        <th>命中率</th>
                                                        <th>总奖金</th>
                                                        <th>操作</th>
                                                    </tr>
                                                </thead>
                                                <tbody id="modal-results-tbody">
                                                    <tr>
                                                        <td colspan="10">加载中...</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>

                                <div class="modal-footer">
                                    <button class="btn-primary" id="export-all-periods">📥 导出全部期号</button>
                                    <button class="btn-secondary" id="export-multi-sheet">📊 导出Excel多表格</button>
                                    <button class="btn-default" id="close-modal-footer">关闭</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 专家和值预测面板 -->
                    <div id="dlt-expert" class="panel-content">
                        <div class="content-header">
                            <h2>专家和值预测</h2>
                                <div class="filter-controls">
                                    <!-- 自定义和值输入 -->
                                    <div class="control-row">
                                        <label>排除特定和值:</label>
                                        <div class="sum-inputs-grid">
                                            <input type="number" id="sum-exclude-1" placeholder="和值1" min="15" max="175" class="sum-input">
                                            <input type="number" id="sum-exclude-2" placeholder="和值2" min="15" max="175" class="sum-input">
                                            <input type="number" id="sum-exclude-3" placeholder="和值3" min="15" max="175" class="sum-input">
                                            <input type="number" id="sum-exclude-4" placeholder="和值4" min="15" max="175" class="sum-input">
                                            <input type="number" id="sum-exclude-5" placeholder="和值5" min="15" max="175" class="sum-input">
                                            <input type="number" id="sum-exclude-6" placeholder="和值6" min="15" max="175" class="sum-input">
                                            <input type="number" id="sum-exclude-7" placeholder="和值7" min="15" max="175" class="sum-input">
                                            <input type="number" id="sum-exclude-8" placeholder="和值8" min="15" max="175" class="sum-input">
                                        </div>
                                    </div>
                                    
                                    <!-- 排除特定和值范围 -->
                                    <div class="control-row">
                                        <label>排除特定和值范围:</label>
                                        <div class="sum-range-grid">
                                            <div class="sum-range-item">
                                                <label>范围1:</label>
                                                <input type="number" id="sum-range-1-start" placeholder="起始" min="15" max="175" class="range-input">
                                                <span>至</span>
                                                <input type="number" id="sum-range-1-end" placeholder="结束" min="15" max="175" class="range-input">
                                            </div>
                                            <div class="sum-range-item">
                                                <label>范围2:</label>
                                                <input type="number" id="sum-range-2-start" placeholder="起始" min="15" max="175" class="range-input">
                                                <span>至</span>
                                                <input type="number" id="sum-range-2-end" placeholder="结束" min="15" max="175" class="range-input">
                                            </div>
                                            <div class="sum-range-item">
                                                <label>范围3:</label>
                                                <input type="number" id="sum-range-3-start" placeholder="起始" min="15" max="175" class="range-input">
                                                <span>至</span>
                                                <input type="number" id="sum-range-3-end" placeholder="结束" min="15" max="175" class="range-input">
                                            </div>
                                        </div>
                                        <small class="range-note">💡 填写和值范围进行排除，例如: 80至120表示排除和值为80-120的组合</small>
                                    </div>
                                    
                                    <!-- 排除历史和值选项（可切换选择） -->
                                    <div class="control-row">
                                        <label>排除历史和值:</label>
                                        <div class="radio-group">
                                            <label class="radio-option">
                                                <input type="radio" name="sum-exclude-type" id="sum-exclude-recent-5" value="recent-5">
                                                <span class="radiomark"></span>
                                                <span>最近5期</span>
                                            </label>
                                            <label class="radio-option">
                                                <input type="radio" name="sum-exclude-type" id="sum-exclude-recent-10" value="recent-10" checked>
                                                <span class="radiomark"></span>
                                                <span>最近10期</span>
                                            </label>
                                            <label class="radio-option">
                                                <input type="radio" name="sum-exclude-type" id="sum-exclude-recent-30" value="recent-30">
                                                <span class="radiomark"></span>
                                                <span>最近30期</span>
                                            </label>
                                            <label class="radio-option">
                                                <input type="radio" name="sum-exclude-type" id="sum-exclude-before-target" value="before-target">
                                                <span class="radiomark"></span>
                                                <span>排除预测期前</span>
                                                <input type="number" id="sum-before-custom" placeholder="期数" min="5" max="50" class="custom-input inline-input" value="10">
                                                <span>期和值</span>
                                            </label>
                                        </div>
                                    </div>
                                    
                                    <div class="sum-exclude-note">
                                        <small>💡 说明：预测期前排除是指排除目标期号之前连续期数的和值，例如预测25088期时排除前10期，则排除25078-25087期的和值</small>
                                    </div>
                                </div>
                            </div>

                            <!-- 红球热温冷比排除 -->
                            <div class="filter-group">
                                <h4>🌡️ 排除红球热温冷比</h4>
                                <div class="filter-controls">
                                    <!-- 特定热温冷比排除 -->
                                    <div class="control-row">
                                        <label>排除特定热温冷比:</label>
                                        <div class="htc-ratios-grid">
                                            <div class="htc-ratio-item">
                                                <input type="checkbox" id="htc-5-0-0" value="5:0:0">
                                                <label for="htc-5-0-0">5:0:0</label>
                                            </div>
                                            <div class="htc-ratio-item">
                                                <input type="checkbox" id="htc-4-1-0" value="4:1:0">
                                                <label for="htc-4-1-0">4:1:0</label>
                                            </div>
                                            <div class="htc-ratio-item">
                                                <input type="checkbox" id="htc-4-0-1" value="4:0:1">
                                                <label for="htc-4-0-1">4:0:1</label>
                                            </div>
                                            <div class="htc-ratio-item">
                                                <input type="checkbox" id="htc-3-2-0" value="3:2:0">
                                                <label for="htc-3-2-0">3:2:0</label>
                                            </div>
                                            <div class="htc-ratio-item">
                                                <input type="checkbox" id="htc-3-1-1" value="3:1:1">
                                                <label for="htc-3-1-1">3:1:1</label>
                                            </div>
                                            <div class="htc-ratio-item">
                                                <input type="checkbox" id="htc-3-0-2" value="3:0:2">
                                                <label for="htc-3-0-2">3:0:2</label>
                                            </div>
                                            <div class="htc-ratio-item">
                                                <input type="checkbox" id="htc-2-3-0" value="2:3:0">
                                                <label for="htc-2-3-0">2:3:0</label>
                                            </div>
                                            <div class="htc-ratio-item">
                                                <input type="checkbox" id="htc-2-2-1" value="2:2:1">
                                                <label for="htc-2-2-1">2:2:1</label>
                                            </div>
                                            <div class="htc-ratio-item">
                                                <input type="checkbox" id="htc-2-1-2" value="2:1:2">
                                                <label for="htc-2-1-2">2:1:2</label>
                                            </div>
                                            <div class="htc-ratio-item">
                                                <input type="checkbox" id="htc-2-0-3" value="2:0:3">
                                                <label for="htc-2-0-3">2:0:3</label>
                                            </div>
                                            <div class="htc-ratio-item">
                                                <input type="checkbox" id="htc-1-4-0" value="1:4:0">
                                                <label for="htc-1-4-0">1:4:0</label>
                                            </div>
                                            <div class="htc-ratio-item">
                                                <input type="checkbox" id="htc-1-3-1" value="1:3:1">
                                                <label for="htc-1-3-1">1:3:1</label>
                                            </div>
                                            <div class="htc-ratio-item">
                                                <input type="checkbox" id="htc-1-2-2" value="1:2:2">
                                                <label for="htc-1-2-2">1:2:2</label>
                                            </div>
                                            <div class="htc-ratio-item">
                                                <input type="checkbox" id="htc-1-1-3" value="1:1:3">
                                                <label for="htc-1-1-3">1:1:3</label>
                                            </div>
                                            <div class="htc-ratio-item">
                                                <input type="checkbox" id="htc-1-0-4" value="1:0:4">
                                                <label for="htc-1-0-4">1:0:4</label>
                                            </div>
                                            <div class="htc-ratio-item">
                                                <input type="checkbox" id="htc-0-5-0" value="0:5:0">
                                                <label for="htc-0-5-0">0:5:0</label>
                                            </div>
                                            <div class="htc-ratio-item">
                                                <input type="checkbox" id="htc-0-4-1" value="0:4:1">
                                                <label for="htc-0-4-1">0:4:1</label>
                                            </div>
                                            <div class="htc-ratio-item">
                                                <input type="checkbox" id="htc-0-3-2" value="0:3:2">
                                                <label for="htc-0-3-2">0:3:2</label>
                                            </div>
                                            <div class="htc-ratio-item">
                                                <input type="checkbox" id="htc-0-2-3" value="0:2:3">
                                                <label for="htc-0-2-3">0:2:3</label>
                                            </div>
                                            <div class="htc-ratio-item">
                                                <input type="checkbox" id="htc-0-1-4" value="0:1:4">
                                                <label for="htc-0-1-4">0:1:4</label>
                                            </div>
                                            <div class="htc-ratio-item">
                                                <input type="checkbox" id="htc-0-0-5" value="0:0:5">
                                                <label for="htc-0-0-5">0:0:5</label>
                                            </div>
                                        </div>
                                        <div class="htc-select-controls">
                                            <button type="button" class="select-all-btn" onclick="selectAllHtcRatios()">全选</button>
                                            <button type="button" class="select-none-btn" onclick="selectNoneHtcRatios()">全不选</button>
                                            <button type="button" class="select-common-btn" onclick="selectCommonHtcRatios()">常见组合</button>
                                        </div>
                                    </div>
                                    
                                    <!-- 排除历史热温冷比选项（单选） -->
                                    <div class="control-row">
                                        <label>排除历史热温冷比:</label>
                                        <div class="radio-group">
                                            <label class="radio-option">
                                                <input type="radio" name="htc-exclude-type" value="recent-5">
                                                <span>最近5期</span>
                                            </label>
                                            <label class="radio-option">
                                                <input type="radio" name="htc-exclude-type" value="recent-10" checked>
                                                <span>最近10期</span>
                                            </label>
                                            <label class="radio-option">
                                                <input type="radio" name="htc-exclude-type" value="recent-30">
                                                <span>最近30期</span>
                                            </label>
                                            <label class="radio-option">
                                                <input type="radio" name="htc-exclude-type" value="before-target">
                                                <span>排除预测期前</span>
                                                <input type="number" id="htc-before-custom" placeholder="期数" min="5" max="50" class="custom-input inline-input" value="10">
                                                <span>期热温冷比</span>
                                            </label>
                                        </div>
                                    </div>
                                    
                                    <div class="htc-exclude-note">
                                        <small>💡 说明：热温冷分类按走势图规则：热号(遗漏值≤4)、温号(遗漏值5-9)、冷号(遗漏值≥10)。比例格式为"热:温:冷"</small>
                                    </div>
                                </div>
                            </div>

                            <!-- 红球区间比排除 -->
                            <div class="filter-group">
                                <h4>📍 排除红球区间比</h4>
                                <div class="filter-controls">
                                    <!-- 特定区间比排除 -->
                                    <div class="control-row">
                                        <label>排除特定区间比:</label>
                                        <div class="zone-ratios-grid">
                                            <div class="zone-ratio-item">
                                                <input type="checkbox" id="zone-5-0-0" value="5:0:0">
                                                <label for="zone-5-0-0">5:0:0</label>
                                            </div>
                                            <div class="zone-ratio-item">
                                                <input type="checkbox" id="zone-4-1-0" value="4:1:0">
                                                <label for="zone-4-1-0">4:1:0</label>
                                            </div>
                                            <div class="zone-ratio-item">
                                                <input type="checkbox" id="zone-4-0-1" value="4:0:1">
                                                <label for="zone-4-0-1">4:0:1</label>
                                            </div>
                                            <div class="zone-ratio-item">
                                                <input type="checkbox" id="zone-3-2-0" value="3:2:0">
                                                <label for="zone-3-2-0">3:2:0</label>
                                            </div>
                                            <div class="zone-ratio-item">
                                                <input type="checkbox" id="zone-3-1-1" value="3:1:1">
                                                <label for="zone-3-1-1">3:1:1</label>
                                            </div>
                                            <div class="zone-ratio-item">
                                                <input type="checkbox" id="zone-3-0-2" value="3:0:2">
                                                <label for="zone-3-0-2">3:0:2</label>
                                            </div>
                                            <div class="zone-ratio-item">
                                                <input type="checkbox" id="zone-2-3-0" value="2:3:0">
                                                <label for="zone-2-3-0">2:3:0</label>
                                            </div>
                                            <div class="zone-ratio-item">
                                                <input type="checkbox" id="zone-2-2-1" value="2:2:1">
                                                <label for="zone-2-2-1">2:2:1</label>
                                            </div>
                                            <div class="zone-ratio-item">
                                                <input type="checkbox" id="zone-2-1-2" value="2:1:2">
                                                <label for="zone-2-1-2">2:1:2</label>
                                            </div>
                                            <div class="zone-ratio-item">
                                                <input type="checkbox" id="zone-2-0-3" value="2:0:3">
                                                <label for="zone-2-0-3">2:0:3</label>
                                            </div>
                                            <div class="zone-ratio-item">
                                                <input type="checkbox" id="zone-1-4-0" value="1:4:0">
                                                <label for="zone-1-4-0">1:4:0</label>
                                            </div>
                                            <div class="zone-ratio-item">
                                                <input type="checkbox" id="zone-1-3-1" value="1:3:1">
                                                <label for="zone-1-3-1">1:3:1</label>
                                            </div>
                                            <div class="zone-ratio-item">
                                                <input type="checkbox" id="zone-1-2-2" value="1:2:2">
                                                <label for="zone-1-2-2">1:2:2</label>
                                            </div>
                                            <div class="zone-ratio-item">
                                                <input type="checkbox" id="zone-1-1-3" value="1:1:3">
                                                <label for="zone-1-1-3">1:1:3</label>
                                            </div>
                                            <div class="zone-ratio-item">
                                                <input type="checkbox" id="zone-1-0-4" value="1:0:4">
                                                <label for="zone-1-0-4">1:0:4</label>
                                            </div>
                                            <div class="zone-ratio-item">
                                                <input type="checkbox" id="zone-0-5-0" value="0:5:0">
                                                <label for="zone-0-5-0">0:5:0</label>
                                            </div>
                                            <div class="zone-ratio-item">
                                                <input type="checkbox" id="zone-0-4-1" value="0:4:1">
                                                <label for="zone-0-4-1">0:4:1</label>
                                            </div>
                                            <div class="zone-ratio-item">
                                                <input type="checkbox" id="zone-0-3-2" value="0:3:2">
                                                <label for="zone-0-3-2">0:3:2</label>
                                            </div>
                                            <div class="zone-ratio-item">
                                                <input type="checkbox" id="zone-0-2-3" value="0:2:3">
                                                <label for="zone-0-2-3">0:2:3</label>
                                            </div>
                                            <div class="zone-ratio-item">
                                                <input type="checkbox" id="zone-0-1-4" value="0:1:4">
                                                <label for="zone-0-1-4">0:1:4</label>
                                            </div>
                                            <div class="zone-ratio-item">
                                                <input type="checkbox" id="zone-0-0-5" value="0:0:5">
                                                <label for="zone-0-0-5">0:0:5</label>
                                            </div>
                                        </div>
                                        <div class="zone-select-controls">
                                            <button type="button" class="select-all-btn" onclick="selectAllZoneRatios()">全选</button>
                                            <button type="button" class="select-none-btn" onclick="selectNoneZoneRatios()">全不选</button>
                                            <button type="button" class="select-common-btn" onclick="selectCommonZoneRatios()">常见组合</button>
                                        </div>
                                    </div>
                                    
                                    <!-- 排除历史区间比选项（单选） -->
                                    <div class="control-row">
                                        <label>排除历史区间比:</label>
                                        <div class="radio-group">
                                            <label class="radio-option">
                                                <input type="radio" name="zone-exclude-type" value="recent-5">
                                                <span>最近5期</span>
                                            </label>
                                            <label class="radio-option">
                                                <input type="radio" name="zone-exclude-type" value="recent-10" checked>
                                                <span>最近10期</span>
                                            </label>
                                            <label class="radio-option">
                                                <input type="radio" name="zone-exclude-type" value="recent-30">
                                                <span>最近30期</span>
                                            </label>
                                            <label class="radio-option">
                                                <input type="radio" name="zone-exclude-type" value="before-target">
                                                <span>排除预测期前</span>
                                                <input type="number" id="zone-before-custom" placeholder="期数" min="5" max="50" class="custom-input inline-input" value="10">
                                                <span>期区间比</span>
                                            </label>
                                        </div>
                                    </div>
                                    
                                    <div class="zone-ratio-explanation">
                                        <span class="zone-label zone1">一区(01-12)</span>
                                        <span class="zone-label zone2">二区(13-24)</span>
                                        <span class="zone-label zone3">三区(25-35)</span>
                                    </div>
                                    
                                    <div class="zone-exclude-note">
                                        <small>💡 说明：区间比格式为"一区:二区:三区"，表示5个前区号码在三个区间的分布</small>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- 输出选项配置 -->
                            <div class="filter-group">
                                <h4>⚙️ 输出选项</h4>
                                <div class="filter-controls">
                                    <div class="control-row">
                                        <label>
                                            <input type="checkbox" id="dlt-get-all-combinations" style="margin-right: 5px;">
                                            获取所有符合条件的组合
                                        </label>
                                        <small class="param-note" style="color: #e67e22;">⚠️ 勾选此项可能需要较长处理时间</small>
                                    </div>
                                    <div class="control-row">
                                        <small class="param-note">💡 不勾选时默认最多输出5000个组合，勾选后输出全部组合</small>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- 旧版按钮已删除，请使用新版界面 -->
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
    <script src="app.js"></script>
    <script src="dlt-module.js"></script>
    
    <script>
    // 批量预测复选框联动功能
    document.addEventListener('DOMContentLoaded', function() {
        // 和值排除联动
        const batchSumCheckbox = document.getElementById('batch-exclude-sum');
        const batchSumRange1Checkbox = document.getElementById('batch-sum-range1-enabled');
        const batchSumMin1 = document.getElementById('batch-sum-min1');
        const batchSumMax1 = document.getElementById('batch-sum-max1');
        const batchSumRange2Checkbox = document.getElementById('batch-sum-range2-enabled');
        const batchSumMin2 = document.getElementById('batch-sum-min2');
        const batchSumMax2 = document.getElementById('batch-sum-max2');
        const batchSumHistoricalCheckbox = document.getElementById('batch-sum-historical-enabled');
        const batchSumRecentRadio = document.querySelector('input[name="batch-sum-exclude-type"]');
        const batchSumRecentInput = document.getElementById('batch-sum-recent-custom');

        batchSumCheckbox?.addEventListener('change', function() {
            const enabled = this.checked;
            batchSumRange1Checkbox.disabled = !enabled;
            batchSumRange2Checkbox.disabled = !enabled;
            batchSumHistoricalCheckbox.disabled = !enabled;
            if (!enabled) {
                batchSumRange1Checkbox.checked = false;
                batchSumMin1.disabled = true;
                batchSumMax1.disabled = true;
                batchSumRange2Checkbox.checked = false;
                batchSumMin2.disabled = true;
                batchSumMax2.disabled = true;
                batchSumHistoricalCheckbox.checked = false;
                batchSumRecentRadio.disabled = true;
                batchSumRecentInput.disabled = true;
            }
        });

        // 和值范围1子联动
        batchSumRange1Checkbox?.addEventListener('change', function() {
            const enabled = this.checked;
            batchSumMin1.disabled = !enabled;
            batchSumMax1.disabled = !enabled;
        });

        // 和值范围2子联动
        batchSumRange2Checkbox?.addEventListener('change', function() {
            const enabled = this.checked;
            batchSumMin2.disabled = !enabled;
            batchSumMax2.disabled = !enabled;
        });

        // 和值历史排除子联动
        batchSumHistoricalCheckbox?.addEventListener('change', function() {
            const enabled = this.checked;
            batchSumRecentRadio.disabled = !enabled;
            batchSumRecentInput.disabled = !enabled;
        });
        
        // 热温冷比排除联动
        const batchHwcCheckbox = document.getElementById('batch-exclude-hwc');
        const batchHwcCheckboxes = document.querySelectorAll('.batch-hwc-cb');
        const batchHwcHistoricalCheckbox = document.getElementById('batch-hwc-historical-enabled');
        const batchHwcRecentRadio = document.querySelector('input[name="batch-hwc-exclude-type"]');
        const batchHwcRecentInput = document.getElementById('batch-hwc-recent-custom');
        
        batchHwcCheckbox?.addEventListener('change', function() {
            const enabled = this.checked;
            batchHwcCheckboxes.forEach(cb => cb.disabled = !enabled);
            batchHwcHistoricalCheckbox.disabled = !enabled;
            if (!enabled) {
                batchHwcHistoricalCheckbox.checked = false;
                batchHwcRecentRadio.disabled = true;
                batchHwcRecentInput.disabled = true;
            }
        });
        
        // 热温冷比历史排除子联动
        batchHwcHistoricalCheckbox?.addEventListener('change', function() {
            const enabled = this.checked;
            batchHwcRecentRadio.disabled = !enabled;
            batchHwcRecentInput.disabled = !enabled;
        });
        
        // 区间比排除联动
        const batchZoneCheckbox = document.getElementById('batch-exclude-zone');
        const batchZoneCheckboxes = document.querySelectorAll('.batch-zone-cb');
        const batchZoneHistoricalCheckbox = document.getElementById('batch-zone-historical-enabled');
        const batchZoneRecentRadio = document.querySelector('input[name="batch-zone-exclude-type"]');
        const batchZoneRecentInput = document.getElementById('batch-zone-recent-custom');
        
        batchZoneCheckbox?.addEventListener('change', function() {
            const enabled = this.checked;
            batchZoneCheckboxes.forEach(cb => cb.disabled = !enabled);
            batchZoneHistoricalCheckbox.disabled = !enabled;
            if (!enabled) {
                batchZoneHistoricalCheckbox.checked = false;
                batchZoneRecentRadio.disabled = true;
                batchZoneRecentInput.disabled = true;
            }
        });
        
        // 区间比历史排除子联动
        batchZoneHistoricalCheckbox?.addEventListener('change', function() {
            const enabled = this.checked;
            batchZoneRecentRadio.disabled = !enabled;
            batchZoneRecentInput.disabled = !enabled;
        });
        
        // 跨度排除联动
        const batchSpanCheckbox = document.getElementById('batch-exclude-span');
        const batchSpanRange1Checkbox = document.getElementById('batch-span-range1-enabled');
        const batchSpanMin1 = document.getElementById('batch-span-min1');
        const batchSpanMax1 = document.getElementById('batch-span-max1');
        const batchSpanRange2Checkbox = document.getElementById('batch-span-range2-enabled');
        const batchSpanMin2 = document.getElementById('batch-span-min2');
        const batchSpanMax2 = document.getElementById('batch-span-max2');
        const batchSpanHistoricalCheckbox = document.getElementById('batch-span-historical-enabled');
        const batchSpanRecentRadio = document.querySelector('input[name="batch-span-exclude-type"]');
        const batchSpanRecentInput = document.getElementById('batch-span-recent-custom');

        batchSpanCheckbox?.addEventListener('change', function() {
            const enabled = this.checked;
            batchSpanRange1Checkbox.disabled = !enabled;
            batchSpanRange2Checkbox.disabled = !enabled;
            batchSpanHistoricalCheckbox.disabled = !enabled;
            if (!enabled) {
                batchSpanRange1Checkbox.checked = false;
                batchSpanMin1.disabled = true;
                batchSpanMax1.disabled = true;
                batchSpanRange2Checkbox.checked = false;
                batchSpanMin2.disabled = true;
                batchSpanMax2.disabled = true;
                batchSpanHistoricalCheckbox.checked = false;
                batchSpanRecentRadio.disabled = true;
                batchSpanRecentInput.disabled = true;
            }
        });

        // 跨度范围1子联动
        batchSpanRange1Checkbox?.addEventListener('change', function() {
            const enabled = this.checked;
            batchSpanMin1.disabled = !enabled;
            batchSpanMax1.disabled = !enabled;
        });

        // 跨度范围2子联动
        batchSpanRange2Checkbox?.addEventListener('change', function() {
            const enabled = this.checked;
            batchSpanMin2.disabled = !enabled;
            batchSpanMax2.disabled = !enabled;
        });

        // 跨度历史排除子联动
        batchSpanHistoricalCheckbox?.addEventListener('change', function() {
            const enabled = this.checked;
            batchSpanRecentRadio.disabled = !enabled;
            batchSpanRecentInput.disabled = !enabled;
        });
        
        // 奇偶比排除联动
        const batchOddEvenCheckbox = document.getElementById('batch-exclude-odd-even');
        const batchOddEvenCheckboxes = document.querySelectorAll('.batch-odd-even-cb');
        
        batchOddEvenCheckbox?.addEventListener('change', function() {
            const enabled = this.checked;
            batchOddEvenCheckboxes.forEach(cb => cb.disabled = !enabled);
        });
    });

    // 批量热温冷比快速选择函数
    function selectBatchHwcGroup(type) {
        const checkboxes = document.querySelectorAll('.batch-hwc-cb');

        checkboxes.forEach(cb => {
            if (cb.disabled) return; // 跳过禁用的复选框

            const group = cb.getAttribute('data-group');
            switch(type) {
                case 'extreme':
                    cb.checked = group === 'extreme';
                    break;
                case 'high':
                    cb.checked = group === 'high';
                    break;
                case 'balanced':
                    cb.checked = group === 'balanced';
                    break;
                case 'all':
                    cb.checked = true;
                    break;
                case 'none':
                    cb.checked = false;
                    break;
            }
        });
    }

    // 批量区间比快速选择函数
    function selectBatchZoneGroup(type) {
        const checkboxes = document.querySelectorAll('.batch-zone-cb');

        checkboxes.forEach(cb => {
            if (cb.disabled) return; // 跳过禁用的复选框

            const group = cb.getAttribute('data-group');
            switch(type) {
                case 'extreme':
                    cb.checked = group === 'extreme';
                    break;
                case 'high':
                    cb.checked = group === 'high';
                    break;
                case 'balanced':
                    cb.checked = group === 'balanced';
                    break;
                case 'all':
                    cb.checked = true;
                    break;
                case 'none':
                    cb.checked = false;
                    break;
            }
        });
    }
    </script>

    <!-- 导出进度对话框 -->
    <div id="export-progress-modal" class="modal" style="display: none;">
        <div class="modal-content" style="max-width: 600px;">
            <div class="modal-header">
                <h3>🚀 正在导出组合数据</h3>
            </div>

            <div class="modal-body">
                <div class="export-info" style="margin-bottom: 20px; padding: 15px; background: #f5f5f5; border-radius: 8px;">
                    <p><strong>任务：</strong><span id="export-task-id">-</span></p>
                    <p><strong>期号：</strong><span id="export-period-num">-</span></p>
                    <p><strong>组合数：</strong><span id="export-total-count">-</span> 条</p>
                </div>

                <div class="progress-container" style="margin-bottom: 15px;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                        <span id="export-progress-percent" style="font-weight: bold; font-size: 18px;">0%</span>
                        <span id="export-progress-count" style="color: #666;">0 / 0</span>
                    </div>
                    <div class="progress-bar" style="width: 100%; height: 24px; background: #e0e0e0; border-radius: 12px; overflow: hidden;">
                        <div id="export-progress-bar" style="width: 0%; height: 100%; background: linear-gradient(90deg, #4CAF50, #45a049); transition: width 0.3s;"></div>
                    </div>
                </div>

                <div class="export-status" style="margin-top: 20px;">
                    <p id="export-status-message" style="font-size: 16px; color: #333;">⏳ 正在准备...</p>
                    <p id="export-speed" style="color: #666; margin-top: 8px;">⚡ 速度: --</p>
                    <p id="export-remaining" style="color: #666; margin-top: 8px;">⏱️ 剩余时间: --</p>
                </div>

                <div id="export-result" style="display: none; margin-top: 20px; padding: 20px; background: #e8f5e9; border-radius: 8px; text-align: center;">
                    <div class="success-message">
                        <h4 style="color: #4CAF50; margin-bottom: 10px;">✅ 导出完成！</h4>
                        <p><strong>文件：</strong><span id="export-filename">-</span></p>
                        <p><strong>大小：</strong><span id="export-filesize">-</span></p>
                    </div>
                    <button onclick="downloadExportedFile()" class="btn-primary" style="margin-top: 15px;">📥 下载文件</button>
                </div>

                <div id="export-error" style="display: none; margin-top: 20px; padding: 20px; background: #ffebee; border-radius: 8px;">
                    <h4 style="color: #f44336;">❌ 导出失败</h4>
                    <p id="export-error-message" style="color: #666; margin-top: 10px;">-</p>
                </div>
            </div>

            <div class="modal-footer">
                <button onclick="closeExportProgressModal()" class="btn-secondary">关闭</button>
            </div>
        </div>
    </div>

</body>
</html>
